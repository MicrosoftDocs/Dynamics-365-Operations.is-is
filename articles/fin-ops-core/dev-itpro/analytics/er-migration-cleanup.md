---
title: Hreinsun flutnings rafrænnar skýrslugerðar
description: Í þessu efnisatriði er útskýrt hvernig hægt er að nota hreinsunaraðgerð fyrir flutning rafrænnar skýrslugerðar til að leysa úr málum er varða sniðmát rafrænnar skýrslugerðar.
author: NickSelin
manager: AnnBe
ms.date: 04/29/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, ERWorkspace, ERParameters, ERMigrationCleanup
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-01-01
ms.dyn365.ops.version: AX 8.0.0
ms.openlocfilehash: b09afc30c401e2dccfc4114261dc5e713c8c470c
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: is-IS
ms.lasthandoff: 03/09/2021
ms.locfileid: "5565516"
---
# <a name="er-migration-cleanup"></a><span data-ttu-id="e7128-103">Hreinsun flutnings rafrænnar skýrslugerðar</span><span class="sxs-lookup"><span data-stu-id="e7128-103">ER migration cleanup</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e7128-104">Þegar þú stjórnar fjármálatilvikum þínum gætir þú ákveðið að flytja núverandi tilvik á aðra staðsetningu.</span><span class="sxs-lookup"><span data-stu-id="e7128-104">When you manage your Finance instances, you might decide to migrate your current instance to another location.</span></span> <span data-ttu-id="e7128-105">Til dæmis gætirðu flutt framleiðslutilvikið í nýtt sandkassaumhverfi.</span><span class="sxs-lookup"><span data-stu-id="e7128-105">For example, you might migrate your production instance to a new sandbox environment.</span></span> <span data-ttu-id="e7128-106">Ef þú hefur skilgreint ramma rafrænnar skýrslugerðar til að geyma sniðmát í Microsoft Azure Blog-geymslu vísar taflan **DocuValue** í nýja sandkassaumhverfinu í tilvikið af Blog-geymslu í framleiðsluumhverfinu.</span><span class="sxs-lookup"><span data-stu-id="e7128-106">If you configured the Electronic reporting (ER) framework to store templates in Microsoft Azure Blob storage, the **DocuValue** table in the new sandbox environment refers to the instance of Blob storage in the production environment.</span></span> <span data-ttu-id="e7128-107">Hins vegar er ekki hægt að opna þetta tilvik í sandkassaumhverfinu vegna þess að flutningsferlið styður ekki flutning gervinga í Blog-geymslu.</span><span class="sxs-lookup"><span data-stu-id="e7128-107">However, this instance can't be accessed from the sandbox environment because the migration process doesn't support the migration of artifacts in Blob storage.</span></span> <span data-ttu-id="e7128-108">Frekar er búist við því að í nýja sandkassaumhverfinu sé vísað í tilvik Blob-geymslunnar í sandkassaumhverfinu sem sækir ekki enn sniðmát rafrænnar skýrslugerðar.</span><span class="sxs-lookup"><span data-stu-id="e7128-108">Rather, it's expected that in the new sandbox environment, you refer to the instance of Blob storage in the sandbox environment that does not yet obtain the ER templates.</span></span>

<span data-ttu-id="e7128-109">Ef reynt er að keyra snið rafrænnar skýrslugerðar sem notar sniðmát til að búa til viðskiptaskjöl á sér stað undantekning og tilkynnt er um sniðmátið sem vantar.</span><span class="sxs-lookup"><span data-stu-id="e7128-109">If you try to run an ER format that uses a template to generate business documents, an exception occurs, and you're notified about the missing template.</span></span> <span data-ttu-id="e7128-110">Þér er einnig bent á að nota hreinsunarvalkost fyrir flutning rafrænnar skýrslugerðar til að eyða og síðan flytja aftur inn skilgreiningu á sniði rafrænnar skýrslugerðar sem inniheldur sniðmátið.</span><span class="sxs-lookup"><span data-stu-id="e7128-110">You're also guided to use the ER migration cleanup option to delete and then re-import the ER format configuration that contains the template.</span></span>

<span data-ttu-id="e7128-111">[![Keyrir snið rafrænnar skýrslugerðar](./media/er-migration-cleanup-run.png)](./media/er-migration-cleanup-run.png)</span><span class="sxs-lookup"><span data-stu-id="e7128-111">[![Running an ER format](./media/er-migration-cleanup-run.png)](./media/er-migration-cleanup-run.png)</span></span>

<span data-ttu-id="e7128-112">Þú færð svipaða villu ef þú ferð yfir á síðuna **Skilgreiningar** (**Fyrirtækisstjórnun** \> **Rafræn skýrslugerð** \> **Skilgreiningar**) og í skilgreiningartrénu skaltu reyna að eyða skilgreiningu á sniði rafrænnar skýrslugerðar sem notar sniðmát.</span><span class="sxs-lookup"><span data-stu-id="e7128-112">You will receive a similar error if you navigate to the **Configurations** page (**Organization administration** \> **Electronic reporting** \> **Configurations**) and in the configurations tree, try to delete an ER format configuration that uses a template.</span></span>

<span data-ttu-id="e7128-113">[![Eyðing á sniði rafrænnar skýrslugerðar](./media/er-migration-cleanup-delete.png)](./media/er-migration-cleanup-delete.png)</span><span class="sxs-lookup"><span data-stu-id="e7128-113">[![Deletion an ER format](./media/er-migration-cleanup-delete.png)](./media/er-migration-cleanup-delete.png)</span></span>

<span data-ttu-id="e7128-114">Ljúkið eftirfarandi skrefum til að leysa úr vandamálum með sniðmát rafrænnar skýrslugerðar sem ekki er hægt að opna.</span><span class="sxs-lookup"><span data-stu-id="e7128-114">Complete the following steps to resolve issues with ER templates that you are unable to access.</span></span>

1.  <span data-ttu-id="e7128-115">Farið á síðuna **Fyrirtækisstjórnun** \> **Reglubundið** \> **Hreinsun flutnings**.</span><span class="sxs-lookup"><span data-stu-id="e7128-115">Go to **Organization administration** \> **Periodic** \> **Migration cleanup** page.</span></span>
2.  <span data-ttu-id="e7128-116">Veljið skilgreiningu rafrænnar skýrslugerðar sem ekki er hægt að keyra eða eyða.</span><span class="sxs-lookup"><span data-stu-id="e7128-116">Select an ER format configuration that can’t be executed or deleted.</span></span>
3.  <span data-ttu-id="e7128-117">Veljið **Eyða**.</span><span class="sxs-lookup"><span data-stu-id="e7128-117">Select **Delete**.</span></span>
4.  <span data-ttu-id="e7128-118">Staðfestið eyðingu á valdri skilgreiningu á sniði rafrænnar skýrslugerðar.</span><span class="sxs-lookup"><span data-stu-id="e7128-118">Confirm the deletion of the selected ER format configuration.</span></span>
5.  <span data-ttu-id="e7128-119">[Flytja inn](download-electronic-reporting-configuration-lcs.md) eydda skilgreiningu á sniði rafrænnar skýrslugerðar í núverandi fjármálatilvik.</span><span class="sxs-lookup"><span data-stu-id="e7128-119">[Import](download-electronic-reporting-configuration-lcs.md) the deleted ER format configuration to the current Finance instance.</span></span>

## <a name="applicability"></a><span data-ttu-id="e7128-120">Gildissvið</span><span class="sxs-lookup"><span data-stu-id="e7128-120">Applicability</span></span>

> <span data-ttu-id="e7128-121">[Mikilvægt] Valkosturinn **Hreinsun flutnings** miðast eingöngu við skilgreiningar á sniði rafrænnar skýrslugerðar sem innihalda sniðmát rafrænnar skýrslugerðar sem ekki er hægt að opna.</span><span class="sxs-lookup"><span data-stu-id="e7128-121">[Important] The **Migration cleanup** option is targeted only for ER format configurations that contain non-accessible ER templates.</span></span> <span data-ttu-id="e7128-122">Þegar skilgreiningu á sniði rafrænnar skýrslugerðar er eytt með því að nota valkostinn **Hreinsun flutnings** eyðir rafræn skýrslugerð sniðmátunum sem tengjast gervingum skilgreiningarinnar í eingöngu gagnagrunni forrits.</span><span class="sxs-lookup"><span data-stu-id="e7128-122">When you delete an ER format configuration by using the **Migration cleanup** option, ER deletes the templates that are related to the configuration artifacts in the only application database.</span></span> <span data-ttu-id="e7128-123">Tilvist viðeigandi efnislegra skráa í Blob-geymslu er ekki staðfest.</span><span class="sxs-lookup"><span data-stu-id="e7128-123">The existence of the appropriate physical files in Blob storage are not validated.</span></span> <span data-ttu-id="e7128-124">Þess í stað er gert ráð fyrir að þær séu ekki til.</span><span class="sxs-lookup"><span data-stu-id="e7128-124">Instead, it is assumed that there are none.</span></span> <span data-ttu-id="e7128-125">Þess vegna skal ekki nota valkostinn **Hreinsun flutnings** sem aðra leið í stað þess að eyða skilgreiningu rafrænnar skýrslugerðar á síðunni **Skilgreiningar**.</span><span class="sxs-lookup"><span data-stu-id="e7128-125">Therefore, do not use the **Migration cleanup** option as an alternative to the ER configuration deletion option on the **Configurations** page.</span></span> <span data-ttu-id="e7128-126">Aðeins skal nota valkostinn **Hreinsun flutnings** þegar eyðing á skilgreiningu rafrænnar skýrslugerðar á síðunni **Skilgreiningar** tókst ekki.</span><span class="sxs-lookup"><span data-stu-id="e7128-126">Use the **Migration cleanup** option only when the ER configuration deletion option on the **Configurations** page failed.</span></span>
>
> <span data-ttu-id="e7128-127">Ef valkosturinn **Hreinsun flutnings** er notaður til að eyða skilgreiningu á sniði rafrænnar skýrslugerðar þegar sniðmátið sem vísað er í er tiltækt í Blob-geymslunni, er aðeins hægt að eyða tengdum gervingum skilgreiningar í gagnagrunni forritsins.</span><span class="sxs-lookup"><span data-stu-id="e7128-127">If you use the **Migration cleanup** option to delete an ER format configuration when the referred template is available in the Blob storage, you only delete related configuration artifacts in the application database.</span></span> <span data-ttu-id="e7128-128">Efnislega skráin í sniðmátinu í Blob-geymslunni verður þar áfram.</span><span class="sxs-lookup"><span data-stu-id="e7128-128">The physical file of the template in the Blob storage remains.</span></span> <span data-ttu-id="e7128-129">Ekki er lengur leyfilegt að skrifa yfir skrár í Blog-geymslunni.</span><span class="sxs-lookup"><span data-stu-id="e7128-129">File overwriting in Blob storage is no longer allowed.</span></span> <span data-ttu-id="e7128-130">Nánari upplýsingar eru í [KB4557217](https://fix.lcs.dynamics.com/Issue/Details?kb=4557217).</span><span class="sxs-lookup"><span data-stu-id="e7128-130">For more information, see [KB4557217](https://fix.lcs.dynamics.com/Issue/Details?kb=4557217).</span></span> <span data-ttu-id="e7128-131">Þar að auki er ekki lengur hægt að flytja aftur inn eyddar skilgreiningar með því að nota hreinsun flutnings í þessu umhverfi.</span><span class="sxs-lookup"><span data-stu-id="e7128-131">Additionally, you will no longer be able to re-import the configurations deleted by using the Migration cleanup in this environment.</span></span> <span data-ttu-id="e7128-132">Til að leysa þetta vandamál þarf að finna samsvarandi skrá í Blob-geymslu og eyða henni handvirkt.</span><span class="sxs-lookup"><span data-stu-id="e7128-132">To resolve this issue, you need to find the corresponding file in Blob storage and manually delete it.</span></span>

<span data-ttu-id="e7128-133">[![Flytja inn snið rafrænnar skýrslugerðar](./media/er-migration-cleanup-import.png)](./media/er-migration-cleanup-import.png)</span><span class="sxs-lookup"><span data-stu-id="e7128-133">[![Importing an ER format](./media/er-migration-cleanup-import.png)](./media/er-migration-cleanup-import.png)</span></span>

<span data-ttu-id="e7128-134">Svipað vandamál getur komið upp ef forritstilvikið er flutt á aðra staðsetningu sem hefur verið notuð sem flutningsmarkmið oftar en einu sinni og þar sem Blob-geymslan inniheldur nú þegar sniðmátsskrár rafrænnar skýrslugerðar.</span><span class="sxs-lookup"><span data-stu-id="e7128-134">A similar issue may occur if you migrate your application instance to another location that has been used as a migration target more than once and for which the Blob storage already contains ER template files.</span></span>

<span data-ttu-id="e7128-135">Fyrst að hægt er að hafa margar skilgreiningar á sniði rafrænnar skýrslugerðar getur þetta ferli verið tímafrekt.</span><span class="sxs-lookup"><span data-stu-id="e7128-135">Because you can have several ER format configurations, this process can be time consuming.</span></span> <span data-ttu-id="e7128-136">Þar af leiðandi er æskilegt að nota eiginleikann [Öryggisafrit sniðmáta rafrænnar skýrslugerðar](er-backup-storage-templates.md) til að endurheimta sjálfkrafa sniðmát með gölluðum tilvísunum.</span><span class="sxs-lookup"><span data-stu-id="e7128-136">Therefore, using the [Backup storage of ER templates](er-backup-storage-templates.md) feature to automatically recover templates with broken references is preferred.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]