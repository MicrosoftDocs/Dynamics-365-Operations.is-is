---
title: Þjappa stórum skjölum sem eru mynduð í rafrænni skýrslugerð
description: Þetta efnisatriði útskýrir hvernig á að þjappa stórum skjölum sem mynduð eru með sniði rafrænnar skýrslugerðar.
author: NickSelin
manager: kfend
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner, ERFormatDestinationTable
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 30de55f9e55911290750c148621fd3d4531686c2
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: is-IS
ms.lasthandoff: 12/05/2020
ms.locfileid: "4680855"
---
# <a name="compress-large-documents-that-are-generated-in-electronic-reporting"></a><span data-ttu-id="99c4c-103">Þjappa stórum skjölum sem eru mynduð í rafrænni skýrslugerð</span><span class="sxs-lookup"><span data-stu-id="99c4c-103">Compress large documents that are generated in Electronic reporting</span></span> 

[!include [banner](../includes/banner.md)]

<span data-ttu-id="99c4c-104">Hægt er að nota [Ramma rafrænnar skýrslugerðar](general-electronic-reporting.md) til að skilgreina lausn sem sækir færslugögn til að mynda skjal á útleið.</span><span class="sxs-lookup"><span data-stu-id="99c4c-104">You can use the [Electronic reporting (ER) framework](general-electronic-reporting.md) to configure a solution that fetches transactional data to generate an outbound document.</span></span> <span data-ttu-id="99c4c-105">Þetta myndaða skjal gæti verið nokkuð stórt.</span><span class="sxs-lookup"><span data-stu-id="99c4c-105">This generated document might be quite large.</span></span> <span data-ttu-id="99c4c-106">Þegar þessi gerð skjals er mynduð er minnið [Þjónn hugbúnaðarhluta (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) notað til að halda því.</span><span class="sxs-lookup"><span data-stu-id="99c4c-106">When this type of document is generated, the [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) memory is used to hold it.</span></span> <span data-ttu-id="99c4c-107">Á einhverjum tímapunkti þarf að sækja skjalið úr Microsoft Dynamics 365 Finance-forritinu.</span><span class="sxs-lookup"><span data-stu-id="99c4c-107">At some point, the document must then be downloaded from your Microsoft Dynamics 365 Finance application.</span></span> <span data-ttu-id="99c4c-108">Sem stendur takmarkast hámarksstærð eins skjals sem myndað er í rafrænni skýrslugerð við 2 GB.</span><span class="sxs-lookup"><span data-stu-id="99c4c-108">Currently, the maximum size of a single document that is generated in ER is limited to 2 gigabytes (GB).</span></span> <span data-ttu-id="99c4c-109">Þar að auki [takmarkar](https://fix.lcs.dynamics.com/Issue/Details?bugId=489291) Finance stærð sóttrar skráar við 1 GB sem stendur.</span><span class="sxs-lookup"><span data-stu-id="99c4c-109">Additionally, Finance currently [limits](https://fix.lcs.dynamics.com/Issue/Details?bugId=489291) the size of a downloaded file to 1 GB.</span></span> <span data-ttu-id="99c4c-110">Þess vegna þarf að skilgreina lausn rafrænnar skýrslugerðar sem dregur úr líkunum á að farið verði yfir þessar takmarkanir og að undantekningin **Streymi var of langt** eða **Yfirflæði eða undirflæði í reikniaðgerðinni** komi upp.</span><span class="sxs-lookup"><span data-stu-id="99c4c-110">Therefore, you must configure an ER solution that reduces the likelihood that these limitations will be exceeded, and that you will receive a **Stream was too long** or **Overflow or underflow in the arithmetic operation** exception.</span></span>

<span data-ttu-id="99c4c-111">Þegar lausn er skilgreind er hægt að stilla snið rafrænnar skýrslugerðar í aðgerðarhönnuði með því að bæta við rótareiningu af gerðinni **Mappa** til að þjappa saman efninu sem er myndað af einhverri faldaðri einingu.</span><span class="sxs-lookup"><span data-stu-id="99c4c-111">When you configure a solution, you can adjust your ER format in the Operations designer by adding a root element of the **Folder** type to compress the content that is generated by any of its nested elements.</span></span> <span data-ttu-id="99c4c-112">Þjöppunin virkar „í tæka tíð“ þannig að hægt sé að minnka hámarks minnisnotkun og stærð skráarinnar sem verður hlaðið niður.</span><span class="sxs-lookup"><span data-stu-id="99c4c-112">Compression works "just in time," so that peak memory usage and the size of the file that will be downloaded can be reduced.</span></span>

> [!NOTE]
> <span data-ttu-id="99c4c-113">Skráarþjöppun tekur viðbótarprósentu af notkun örgjörvans.</span><span class="sxs-lookup"><span data-stu-id="99c4c-113">File compression takes an additional percentage of CPU usage.</span></span>

<span data-ttu-id="99c4c-114">Fyrir frekari upplýsingar um þessa aðferð skal ljúka dæminu í þessu efnisatriði.</span><span class="sxs-lookup"><span data-stu-id="99c4c-114">For more information about this approach, complete the example in this topic.</span></span>

## <a name="example-compress-an-outbound-document"></a><span data-ttu-id="99c4c-115">Dæmi: Þjappa skjali á útleið</span><span class="sxs-lookup"><span data-stu-id="99c4c-115">Example: Compress an outbound document</span></span>

<span data-ttu-id="99c4c-116">Þetta dæmi sýnir hvernig notandi sem er úthlutað **Kerfisstjóri** eða **Hagnýtur ráðgjafi rafrænnar skýrslugerðar** hlutverki getur skilgreint snið rafrænnar skýrslugerðar til að þjappa saman myndað skjal.</span><span class="sxs-lookup"><span data-stu-id="99c4c-116">This example shows how a user who is assigned to the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format to compress a generated document.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="99c4c-117">Forkröfur</span><span class="sxs-lookup"><span data-stu-id="99c4c-117">Prerequisites</span></span>

<span data-ttu-id="99c4c-118">Áður en ferlið í þessu efnisatriði er klárað þarf að ljúka eftirfarandi skrefum.</span><span class="sxs-lookup"><span data-stu-id="99c4c-118">Before you complete the procedures in this topic, the following steps must be completed.</span></span>

1. <span data-ttu-id="99c4c-119">[Virkja skilgreiningarveitu](er-defer-xml-element.md#activate-a-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="99c4c-119">[Activate a configuration provider](er-defer-xml-element.md#activate-a-configuration-provider).</span></span>
2. <span data-ttu-id="99c4c-120">[Flytja inn dæmið um skilgreiningar rafrænnar skýrslugerðar](er-defer-xml-element.md#import-the-sample-er-configurations).</span><span class="sxs-lookup"><span data-stu-id="99c4c-120">[Import the sample ER configurations](er-defer-xml-element.md#import-the-sample-er-configurations).</span></span>
3. <span data-ttu-id="99c4c-121">[Yfirfara innflutt snið.](er-defer-xml-element.md#review-the-imported-format)</span><span class="sxs-lookup"><span data-stu-id="99c4c-121">[Review the imported format](er-defer-xml-element.md#review-the-imported-format).</span></span>

> [!NOTE]
> <span data-ttu-id="99c4c-122">Sem stendur byrjar sniðsskipulagið á einingunni **Skýrsla** af gerðinni **Skrá** og inniheldur XML-einingar.</span><span class="sxs-lookup"><span data-stu-id="99c4c-122">Currently, the format structure starts from the **Report** element of the **File** type and contains XML elements.</span></span> <span data-ttu-id="99c4c-123">Þess vegna verður skjal á útleið myndað á XML-sniði og engin þjöppun verður notuð.</span><span class="sxs-lookup"><span data-stu-id="99c4c-123">Therefore, an outbound document will be generated in XML format, and no compression will be used.</span></span>

### <a name="generate-an-er-format-to-get-an-uncompressed-document"></a><span data-ttu-id="99c4c-124">Mynda snið rafrænnar skýrslugerðar til að sækja ósamþjappað skjal</span><span class="sxs-lookup"><span data-stu-id="99c4c-124">Generate an ER format to get an uncompressed document</span></span>

1. <span data-ttu-id="99c4c-125">[Keyra innflutt snið](er-defer-xml-element.md#run-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="99c4c-125">[Run the imported format](er-defer-xml-element.md#run-the-imported-format).</span></span>
2. <span data-ttu-id="99c4c-126">Takið eftir að stærð myndaða skjalsins á XML-sniði er 3 KB.</span><span class="sxs-lookup"><span data-stu-id="99c4c-126">Notice that the size of the generated document in XML format is 3 kilobytes (KB).</span></span>

    ![Forskoðun á ósamþjöppuðu skjali á útleið](./media/er-compress-outbound-files1.png)

### <a name="modify-the-format-to-compress-the-generated-output"></a><span data-ttu-id="99c4c-128">Breyta sniðinu til að þjappa mynduðu úttaki</span><span class="sxs-lookup"><span data-stu-id="99c4c-128">Modify the format to compress the generated output</span></span>

1. <span data-ttu-id="99c4c-129">Farðu í **Fyrirtækisstjórnun** \> **Rafræn skýrslugerð** \> **Skilgreiningar**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-129">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="99c4c-130">Á síðunni **Stillingar** í stillingatrénu stækkarðu **Líkan til að læra frestuðum þætti**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-130">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
3. <span data-ttu-id="99c4c-131">Veljið skilgreininguna **Snið til að læra frestaðar XML-einingar**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-131">Select the **Format to learn deferred XML elements** configuration.</span></span>
4. <span data-ttu-id="99c4c-132">Veljið **Hönnuður** til að breyta sniðsskipulaginu.</span><span class="sxs-lookup"><span data-stu-id="99c4c-132">Select **Designer** to modify the format structure.</span></span>
5. <span data-ttu-id="99c4c-133">Á síðunni **Sniðshönnuður**, í flipanum **Snið**, skal velja **Bæta við rót** til að bæta við einingu rótarsniðs.</span><span class="sxs-lookup"><span data-stu-id="99c4c-133">On the **Format designer** page, on the **Format** tab, select **Add root** to add a root format element.</span></span>
6. <span data-ttu-id="99c4c-134">Í svarglugganum **Bæta við** skal velja **Almenn\\Mappa**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-134">In the **Add** dialog box, select **Common\\Folder**.</span></span>
7. <span data-ttu-id="99c4c-135">Veljið **Í lagi** til að staðfesta viðbót nýrrar rótareiningar.</span><span class="sxs-lookup"><span data-stu-id="99c4c-135">Select **OK** to confirm the addition of the new root element.</span></span>
8. <span data-ttu-id="99c4c-136">Veljið **Vista**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-136">Select **Save**.</span></span>

> [!NOTE]
> <span data-ttu-id="99c4c-137">Sniðsskipanin byrjar á einingunni af gerðinni **Mappa**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-137">The format structure starts from the element of the **Folder** type.</span></span> <span data-ttu-id="99c4c-138">Þessi eining myndar úttak sem þjappaða (zip) skrá.</span><span class="sxs-lookup"><span data-stu-id="99c4c-138">This element will generate output as a compressed (zip) file.</span></span> <span data-ttu-id="99c4c-139">Þegar skjal sem er myndað af einingunni **Skýrsla** er sett í zip-skrá á útleið, verður efni þess þjappað til að draga úr stærð skráarinnar á útleið.</span><span class="sxs-lookup"><span data-stu-id="99c4c-139">When a document that is generated by the **Report** element is put in an outbound zip file, its content will be compressed to reduce the size of the outbound file.</span></span>

### <a name="generate-an-er-format-to-get-a-compressed-document"></a><span data-ttu-id="99c4c-140">Mynda snið rafrænnar skýrslugerðar til að fá þjappað skjal</span><span class="sxs-lookup"><span data-stu-id="99c4c-140">Generate an ER format to get a compressed document</span></span>

1. <span data-ttu-id="99c4c-141">Á síðunni **Sniðshönnuður** skal velja **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="99c4c-141">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="99c4c-142">Sækið zip-skrána sem vafrinn býður upp á og opnið hana til að yfirfara.</span><span class="sxs-lookup"><span data-stu-id="99c4c-142">Download the zip file that the web browser offers, and open it for review.</span></span>
3. <span data-ttu-id="99c4c-143">Takið eftir að stærð myndaða skjalsins á ZIP-sniðinu er 1 KB.</span><span class="sxs-lookup"><span data-stu-id="99c4c-143">Notice that the size of the generated document in ZIP format is 1 KB.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="99c4c-144">Þjöppunarhlutfall XML-skrárinnar sem þessi zip-skrá inniheldur er 87 prósent.</span><span class="sxs-lookup"><span data-stu-id="99c4c-144">The compression ratio of the XML file that this zip file holds is 87 percent.</span></span> <span data-ttu-id="99c4c-145">Þjöppunarhlutfallið veltur á gögnunum sem verið er að þjappa.</span><span class="sxs-lookup"><span data-stu-id="99c4c-145">The compression ratio depends on the data that is being compressed.</span></span>

    ![Forskoðun á þjöppuðu skjali á útleið](./media/er-compress-outbound-files2.png)

> [!NOTE]
> <span data-ttu-id="99c4c-147">Ef [endastaður](electronic-reporting-destinations.md) rafrænnar skýrslugerðar fyrir sniðseininguna sem myndar úttak (einingin **Skýrsla** í þessu dæmi), verður þjöppun úttaksins sleppt.</span><span class="sxs-lookup"><span data-stu-id="99c4c-147">If the ER [destination](electronic-reporting-destinations.md) is configured for the format element that generates output (the **Report** element in this example), compression of the output will be bypassed.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="99c4c-148">Frekari upplýsingar</span><span class="sxs-lookup"><span data-stu-id="99c4c-148">Additional resources</span></span>

[<span data-ttu-id="99c4c-149">Yfirlit yfir rafræna skýrslugerð</span><span class="sxs-lookup"><span data-stu-id="99c4c-149">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="99c4c-150">Áfangastaðir fyrir rafræna skýrslugerð</span><span class="sxs-lookup"><span data-stu-id="99c4c-150">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="99c4c-151">Fresta keyrslu XML-eininga á sniði rafrænnar skýrslugerðar</span><span class="sxs-lookup"><span data-stu-id="99c4c-151">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md)
