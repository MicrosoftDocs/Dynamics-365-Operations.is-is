---
title: Frestaðu framkvæmd XML-þátta á ER sniði
description: Þetta efni útskýrir hvernig á að fresta framkvæmd XML frumefnis á rafrænni skýrslugerð (ER) sniði.
author: NickSelin
manager: kfend
ms.date: 02/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: e9f6161186d04b690ee560dac7ee12974d070506
ms.sourcegitcommit: 9c401a4adba260704b0b1cb9fe8e148bbb5afeed
ms.translationtype: HT
ms.contentlocale: is-IS
ms.lasthandoff: 03/12/2020
ms.locfileid: "3120879"
---
# <a name="defer-the-execution-of-xml-elements-in-er-formats"></a><span data-ttu-id="d5ade-103">Frestaðu framkvæmd XML-þátta á ER sniði</span><span class="sxs-lookup"><span data-stu-id="d5ade-103">Defer the execution of XML elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

[!include [banner](../includes/preview-banner.md)]

## <a name="overview"></a><span data-ttu-id="d5ade-104">Yfirlit</span><span class="sxs-lookup"><span data-stu-id="d5ade-104">Overview</span></span>

<span data-ttu-id="d5ade-105">Þú getur notað rekstrarhönnuðinn í rammanum [Rafræn skýrsla (ER)](general-electronic-reporting.md) til að [stilla](./tasks/er-format-configuration-2016-11.md) [sniðshlutann](general-electronic-reporting.md#FormatComponentOutbound) í ER-lausn sem er notuð til að búa til skjöl á útleið á XML sniði.</span><span class="sxs-lookup"><span data-stu-id="d5ade-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](./tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in XML format.</span></span> <span data-ttu-id="d5ade-106">Stigveldi uppsetts sniðhlutans samanstendur af sniðþáttum af ýmsum gerðum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="d5ade-107">Þessir sniðþættir eru notaðir til að fylla mynda skjöl með tilskildum upplýsingum á keyrslutíma.</span><span class="sxs-lookup"><span data-stu-id="d5ade-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="d5ade-108">Sjálfgefið að þegar þú keyrir ER-snið eru sniðþættirnir keyrðir í sömu röð og þeir eru settir fram í sniðveldinu: eitt af öðru, frá toppi til botns.</span><span class="sxs-lookup"><span data-stu-id="d5ade-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="d5ade-109">Hins vegar er á hönnunartíma hægt að breyta framkvæmdaröðuninni fyrir hvaða XML-þætti sem er í samskiptahlutanum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-109">However, at design time, you can change the execution order for any XML elements of the configured format component.</span></span>

<span data-ttu-id="d5ade-110">Með því að kveikja á valkostinum <a name="DeferredXmlElementExecution"></a>**Frestuð framkvæmd** fyrir XML-þátt í röð sem er stillt á stillta sniði, þú getur frestað (frestað) framkvæmd þess þáttar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-110">By turning on the <a name="DeferredXmlElementExecution"></a>**Deferred execution** option for an XML element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="d5ade-111">Í þessu tilfelli er þátturinn ekki keyrður fyrr en allir aðrir þættir yfirhluta hans hafa verið keyrðir.</span><span class="sxs-lookup"><span data-stu-id="d5ade-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="d5ade-112">Til að fá frekari upplýsingar um þennan eiginleika skaltu ljúka dæminu í þessu efni.</span><span class="sxs-lookup"><span data-stu-id="d5ade-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="d5ade-113">Takmarkanir</span><span class="sxs-lookup"><span data-stu-id="d5ade-113">Limitations</span></span>

<span data-ttu-id="d5ade-114">Valkosturinn **Frestuð framkvæmd** er aðeins studdur fyrir XML-þætti sem eru stilltir fyrir ER-snið sem er notað til að búa til skjöl **á útleið** á XML-sniði.</span><span class="sxs-lookup"><span data-stu-id="d5ade-114">The **Deferred execution** option is supported only for XML elements that are configured for an ER format that is used to generate **outbound** documents in XML format.</span></span>

<span data-ttu-id="d5ade-115">Valkosturinn **Frestuð framkvæmd** er aðeins studdur fyrir XML þætti sem eru aðeins í einum öðrum XML frumefni.</span><span class="sxs-lookup"><span data-stu-id="d5ade-115">The **Deferred execution** option is supported only for XML elements that reside in only one other XML element.</span></span> <span data-ttu-id="d5ade-116">Þess vegna gildir það ekki um XML þætti sem eru búsettir í öðrum gerðum sniðaþátta (til dæmis í þættinum **XML-röð**).</span><span class="sxs-lookup"><span data-stu-id="d5ade-116">Therefore, it isn't applicable to XML elements that reside in other types of format elements (for example, in an **XML sequence** element).</span></span>

<span data-ttu-id="d5ade-117">Valkosturinn **Frestuð framkvæmd** er ekki studdur fyrir XML þætti sem búa í sniðmátsþáttunum **Sameiginlegt\\Skrá** þegar valkosturinn **Skipta skrá** er stilltur á **Já**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-117">The **Deferred execution** option isn't supported for XML elements that reside in the **Common\\File** format element when the **Split file** option is set to **Yes**.</span></span> <span data-ttu-id="d5ade-118">Nánari upplýsingar um hvernig á að skipta XML-skrám er að finna í [Skipta mynduðum XML-skrám út frá stærð og efnismagni](er-split-files.md).</span><span class="sxs-lookup"><span data-stu-id="d5ade-118">For more information about how to split XML files, see [Split generated XML files based on file size and content quantity](er-split-files.md).</span></span>

## <a name="example-defer-the-execution-of-an-xml-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="d5ade-119">Dæmi: Frestaðu framkvæmd XML-þáttar á ER-sniði</span><span class="sxs-lookup"><span data-stu-id="d5ade-119">Example: Defer the execution of an XML element in an ER format</span></span>

<span data-ttu-id="d5ade-120">Eftirfarandi skref útskýra hvernig notandi í kerfisstjóra eða rafrænni skýrslugerð virkur ráðgjafi [hlutverk](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) getur stillt ER snið sem inniheldur XML-þátt þar sem framkvæmd röð er frábrugðin röðinni í snið stigveldisins.</span><span class="sxs-lookup"><span data-stu-id="d5ade-120">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) can configure an ER format that contains an XML element where the order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="d5ade-121">Hægt er að framkvæma þessum skrefum í **USMF** fyrirtæki í Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="d5ade-121">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="d5ade-122">Forkröfur</span><span class="sxs-lookup"><span data-stu-id="d5ade-122">Prerequisites</span></span>

<span data-ttu-id="d5ade-123">Til að ljúka þessu dæmi verður þú að hafa aðgang að **USMF** fyrirtæki í Finance fyrir eitt af eftirfarandi hlutverkum:</span><span class="sxs-lookup"><span data-stu-id="d5ade-123">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="d5ade-124">Hagnýtur ráðgjafi vegna rafrænnar skýrslugerðar</span><span class="sxs-lookup"><span data-stu-id="d5ade-124">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="d5ade-125">Kerfisstjóri</span><span class="sxs-lookup"><span data-stu-id="d5ade-125">System administrator</span></span>

<span data-ttu-id="d5ade-126">Ef þú hefur ekki enn lokið dæminu í [Frestaðu framkvæmd raðarþátta á ER sniði](er-defer-sequence-element.md#Example) efni, hlaðið niður eftirfarandi [stillingar](general-electronic-reporting.md#Configuration) af ER lausninni.</span><span class="sxs-lookup"><span data-stu-id="d5ade-126">If you haven't yet completed the example in the [Defer the execution of sequence elements in ER formats](er-defer-sequence-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="d5ade-127">Lýsing á efni</span><span class="sxs-lookup"><span data-stu-id="d5ade-127">Content description</span></span>            | <span data-ttu-id="d5ade-128">Skrárnafn</span><span class="sxs-lookup"><span data-stu-id="d5ade-128">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="d5ade-129">Skilgreining á gagnalíkani í ER</span><span class="sxs-lookup"><span data-stu-id="d5ade-129">ER data model configuration</span></span>    | [<span data-ttu-id="d5ade-130">Líkan til að læra frestaða elements.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="d5ade-130">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="d5ade-131">Stilling vörpunar ER-líkans</span><span class="sxs-lookup"><span data-stu-id="d5ade-131">ER model mapping configuration</span></span> | [<span data-ttu-id="d5ade-132">Vörpun til að læra frestaða elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="d5ade-132">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="d5ade-133">Áður en þú byrjar verður þú einnig að hlaða niður og vista eftirfarandi stillingar á sýnishornum ER lausnarinnar á tölvuna þína.</span><span class="sxs-lookup"><span data-stu-id="d5ade-133">Before you begin, you must also download and save the following configuration of the sample ER solution to your local computer.</span></span>

| <span data-ttu-id="d5ade-134">Lýsing á efni</span><span class="sxs-lookup"><span data-stu-id="d5ade-134">Content description</span></span>     | <span data-ttu-id="d5ade-135">Skrárnafn</span><span class="sxs-lookup"><span data-stu-id="d5ade-135">File name</span></span> |
|-------------------------|-----------|
| <span data-ttu-id="d5ade-136">ER Sníða skilgreiningu</span><span class="sxs-lookup"><span data-stu-id="d5ade-136">ER format configuration</span></span> | [<span data-ttu-id="d5ade-137">Sniðmát til að læra frestaða XML elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="d5ade-137">Format to learn deferred XML elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="d5ade-138">Flytja inn sýnishorn af ER-stillingum</span><span class="sxs-lookup"><span data-stu-id="d5ade-138">Import the sample ER configurations</span></span>

1. <span data-ttu-id="d5ade-139">Farðu í **Fyrirtækisstjórnun** \> **Vinnusvæði** \> **Rafræn skýrslugerð**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-139">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="d5ade-140">Veldu **Skilgreiningar skýrslugerðar**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-140">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="d5ade-141">Á síðunni **Stillingar**, ef stillingin **Líkan til að læra frestaða þætti** er ekki fáanleg í stillingatrénu, flytjið upp ER-gagnalíkanstillingar:</span><span class="sxs-lookup"><span data-stu-id="d5ade-141">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="d5ade-142">Veldu **Skipta** og veldu síðan **Hlaða úr XML skrá**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="d5ade-143">Veldu **Fletta**, finndu og veldu skrána **Líkan til að læra frestaða þætti.1.xml** og veldu síðan **Í lagi**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-143">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="d5ade-144">Ef stillingar **Vörpun til að læra frestaða þætti** er ekki fáanleg í stillingatrénu, flytjið upp vörpunarstillingar ER-gagnalíkans:</span><span class="sxs-lookup"><span data-stu-id="d5ade-144">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="d5ade-145">Veldu **Skipta** og veldu síðan **Hlaða úr XML skrá**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="d5ade-146">Veldu **Fletta**, finndu og veldu skrána **Vörpun til að læra frestaða þætti.1.1.xml** og veldu síðan **Í lagi**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-146">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="d5ade-147">Flytja inn skilgreiningu ER-sniðs:</span><span class="sxs-lookup"><span data-stu-id="d5ade-147">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="d5ade-148">Veldu **Skipta** og veldu síðan **Hlaða úr XML skrá**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-148">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="d5ade-149">Veldu **Fletta**, finndu og veldu skrána **Snið til að læra frestaða XML-þætti.1.1.xml** og veldu síðan **Í lagi**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-149">Select **Browse**, find and select the **Format to learn deferred XML elements.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="d5ade-150">Stækkaðu í stillingartrénu **Líkan til að læra frestaða þætti**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-150">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="d5ade-151">Skoðaðu listann yfir innfluttar ER stillingar í stillingartrénu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-151">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Innfluttar ER stillingar á stillingum síðu](./media/ER-DeferredXml-Configurations.png)

### <a name="activate-a-configuration-provider"></a><span data-ttu-id="d5ade-153">Kveikja á stillingaveitu</span><span class="sxs-lookup"><span data-stu-id="d5ade-153">Activate a configuration provider</span></span>

1. <span data-ttu-id="d5ade-154">Farðu í **Fyrirtækisstjórnun** \> **Vinnusvæði** \> **Rafræn skýrslugerð**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-154">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="d5ade-155">Á síðunni **Skilgreiningar staðsetningar**, í hlutanum **Skilgreiningaveitur**, skaltu passa að [skilgreiningaveitan](general-electronic-reporting.md#Provider) fyrir sýnifyrirtækið Litware, Inc. (`http://www.litware.com`) sé skráð og að hún sé merkt sem virk.</span><span class="sxs-lookup"><span data-stu-id="d5ade-155">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="d5ade-156">Ef þessi stillingarþjónusta er ekki á listanum, eða ef hún er ekki merkt sem virk, fylgirðu skrefunum í efninu [Stofna skilgreiningaveitu og merkja hana sem virka](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="d5ade-156">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Litware, Inc. sýnishornafyrirtæki á staðsetningarstillingasíðunni](./media/ER-DeferredXml-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="d5ade-158">Yfirfara innflutta líkanavörpun</span><span class="sxs-lookup"><span data-stu-id="d5ade-158">Review the imported model mapping</span></span>

<span data-ttu-id="d5ade-159">Skoðaðu stillingar kortagerðarhlutans fyrir ER-gerðina sem er stilltur til að fá aðgang að skattafærslum og afhjúpa aðgengileg gögn ef óskað er.</span><span class="sxs-lookup"><span data-stu-id="d5ade-159">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="d5ade-160">Farðu í **Fyrirtækisstjórnun** \> **Vinnusvæði** \> **Rafræn skýrslugerð**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-160">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="d5ade-161">Veldu **Skilgreiningar skýrslugerðar**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-161">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="d5ade-162">Á síðunni **Stillingar** í stillingatrénu stækkarðu **Líkan til að læra frestuðum þætti**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-162">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="d5ade-163">Veldu stillingarnar **Vörpun til að læra frestuðum þáttum**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-163">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="d5ade-164">Veldu **Hönnuður** til að opna lista yfir varpanir.</span><span class="sxs-lookup"><span data-stu-id="d5ade-164">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="d5ade-165">Veldu **Hönnuður** til að fara yfir upplýsingar um varpanir.</span><span class="sxs-lookup"><span data-stu-id="d5ade-165">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="d5ade-166">Veljið **Sýna upplýsingar**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-166">Select **Show details**.</span></span>
8. <span data-ttu-id="d5ade-167">Skoðaðu gagnagjafana sem eru stilltir til að fá aðgang að skattafærslum:</span><span class="sxs-lookup"><span data-stu-id="d5ade-167">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="d5ade-168">Gagnagjafinn **Færslur** af gerðinni *Töfluskrá* er stillt til að fá aðgang að skrám forritstöflunnar **TaxTrans**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-168">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="d5ade-169">Gagnagjafinn **Fylgiskjöl** af gerðinni *Reiknaður reitur* er stilltur til að skila tilskildum kóðum fylgiskjala (**INV-10000349** og **INV-10000350**) sem lista yfir skrár.</span><span class="sxs-lookup"><span data-stu-id="d5ade-169">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="d5ade-170">Gagnagjafinn **Síað** af gerðinni *Reiknaður reitur* er stilltur til að velja, úr gagnagjafanum **Færslur**, aðeins skattafærslur í nauðsynlegum fylgiskjölum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-170">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="d5ade-171">Reitnum **\$TaxAmount** af gerðinni *Reiknaður reitur* er bætt við fyrir gagnagjafann **Síað** til að afhjúpa skattagildi sem hefur hið gagnstæða merki.</span><span class="sxs-lookup"><span data-stu-id="d5ade-171">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="d5ade-172">Gagnagjafinn **Hópað** af gerðinni *Hópa eftir* er stillt til að flokka síaðar skattafærslur í gagnagjafanum **Síað**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-172">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="d5ade-173">Uppsöfnunarreiturinn **TotalSum** í gagnagjafanum **Hópað** er stilltur til að draga saman gildi í reitnum **\$TaxAmount** í gagnagjafanum **Síað** fyrir allar síaðar skattafærslur þess gagnagjafa.</span><span class="sxs-lookup"><span data-stu-id="d5ade-173">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![Uppsöfnunarreiturinn TotalSum á Edit 'GroupBy' breytusíðunni](./media/ER-DeferredXml-GroupByParameters.png)

9. <span data-ttu-id="d5ade-175">Skoðaðu hvernig stilltir gagnagjafar eru bundnir við gagnalíkanið og hvernig þeir afhjúpa aðgangsgögn til að gera þau aðgengileg á ER sniði:</span><span class="sxs-lookup"><span data-stu-id="d5ade-175">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="d5ade-176">Gagnagjafinn **Síað** er bundinn við reitinn **Data.List** í gagnalíkaninu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-176">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="d5ade-177">Reiturinn **\$TaxAmount** í gagnagjafanum **Síað** er bundinn við reitinn **Data.List.Value** í gagnalíkaninu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-177">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="d5ade-178">Reiturinn **TotalSum** í gagnagjafanum **Hópað** er bundinn við reitinn **Data.Summary.Total** í gagnalíkaninu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-178">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Hönnuðarsíðan líkanavörpun](./media/ER-DeferredXml-ModelMapping.png)

10. <span data-ttu-id="d5ade-180">Lokaðu síðunum **Hönnuður líkanavörpunar** og **Líkanavarpanir**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-180">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="d5ade-181">Yfirfara innflutt snið</span><span class="sxs-lookup"><span data-stu-id="d5ade-181">Review the imported format</span></span>

1. <span data-ttu-id="d5ade-182">Á síðunni **Stillingar** í stillingatrénu, velurðu stillingarnar **Snið til að læra frestuðum XML þætti**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-182">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred XML elements** configuration.</span></span>
2. <span data-ttu-id="d5ade-183">Veldu **Hönnuður** til að fara yfir upplýsingar um sniðmát.</span><span class="sxs-lookup"><span data-stu-id="d5ade-183">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="d5ade-184">Veljið **Sýna upplýsingar**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-184">Select **Show details**.</span></span>
4. <span data-ttu-id="d5ade-185">Skoðaðu stillingar á ER sniði íhlutum sem eru stilltir til að búa til útgagnaskjal á XML sniði sem inniheldur upplýsingar um skattaviðskipti:</span><span class="sxs-lookup"><span data-stu-id="d5ade-185">Review the settings of the ER format components that are configured to generate an outbound document in XML format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="d5ade-186">XML-þátturinn **Skýrsla\\Skilaboð** er stilltur til að fylla útleið skjals með einum hnút sem inniheldur ívafða XML-þætti (**Haus**, **Skrá** og **Yfirlit**).</span><span class="sxs-lookup"><span data-stu-id="d5ade-186">The **Report\\Message** XML element is configured to fill the outbound document with a single node that includes the nested XML elements (**Header**, **Record**, and **Summary**).</span></span>
    - <span data-ttu-id="d5ade-187">XML-þátturinn **Skýrsla\\Skilaboð\\Haus** er stilltur til að fylla skjalið á útleið með einum haushnút sem sýnir dagsetningu og tíma þegar vinnsla hefst.</span><span class="sxs-lookup"><span data-stu-id="d5ade-187">The **Report\\Message\\Header** XML element is configured to fill the outbound document with a single header node that shows the date and time when the processing starts.</span></span>
    - <span data-ttu-id="d5ade-188">XML-þátturinn **Skýrsla \\Skilaboð\\Skrá** er stilltur til að fylla skjalið á útleið með einum skráarhnút sem sýnir upplýsingar um staka skattafærslu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-188">The **Report \\Message\\Record** XML element is configured to fill the outbound document with a single record node that shows the details of a single tax transaction.</span></span>
    - <span data-ttu-id="d5ade-189">XML-þátturinn **Skýrsla\\Skilaboð\\Yfirlit** er stilltur til að fylla skjalið á útleið með einum yfirlitshnút sem inniheldur summan af skattagildunum úr unnum skattafærslum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-189">The **Report\\Message\\Summary** XML element is configured to fill the outbound document with a single summary node that includes the sum of the tax values from the processed tax transactions.</span></span>

    ![Skilaboð XML-þátta og ívafinna XML-þátta á sniðinu hönnuður](./media/ER-DeferredXml-Format.png)

5. <span data-ttu-id="d5ade-191">Á flipanum **Vörðun** skoðarðu eftirfarandi upplýsingar:</span><span class="sxs-lookup"><span data-stu-id="d5ade-191">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="d5ade-192">Þátturinn **Skýrsla\\Skilaboð\\Haus** þarf ekki að vera bundið við heimild til að búa til einn hnút í skjali sem er á útleið.</span><span class="sxs-lookup"><span data-stu-id="d5ade-192">The **Report\\Message\\Header** element doesn't have to be bound to a source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="d5ade-193">Eigindin **ExecutionDateTime** myndar dagsetningu og tíma (þ.m.t. millisekúndur) þegar haushnútnum er bætt við.</span><span class="sxs-lookup"><span data-stu-id="d5ade-193">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the header node is added.</span></span>
    - <span data-ttu-id="d5ade-194">Þátturinn **Skýrsla\\Skilaboð\\Skrá** er bundinn við listann **model.Data.List** til að mynda stakan skráarhnút fyrir hverja skrá af bundna listanum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-194">The **Report\\Message\\Record** element is bound to the **model.Data.List** list to generate a single record node for every record from the bound list.</span></span>
    - <span data-ttu-id="d5ade-195">Eigindin **TaxAmount** er bundin við **model.Data.List.Value** (sem er sýnt sem **\@.Value** í sýn tengdrar slóðar) til að búa til skattverðmæti núverandi skattafærslna.</span><span class="sxs-lookup"><span data-stu-id="d5ade-195">The **TaxAmount** attribute is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="d5ade-196">Eigindin **RunningTotal** er staðgengill fyrir hlaupandi samtölu skattagilda.</span><span class="sxs-lookup"><span data-stu-id="d5ade-196">The **RunningTotal** attribute is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="d5ade-197">Sem stendur hefur þessi eigind ekkert úttak, því hvorki bindandi né sjálfgefið gildi er stillt fyrir það.</span><span class="sxs-lookup"><span data-stu-id="d5ade-197">Currently, this attribute has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="d5ade-198">Eigindin **ExecutionDateTime** myndar dagsetningu og tíma (þ.m.t. millisekúndur) þegar núverandi færsla er unnin í þessari skýrslu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-198">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="d5ade-199">Þátturinn **Skýrsla\\Skilaboð\\Yfirlit** þarf ekki að vera bundið við gagnagjafa til að búa til einn hnút í skjali sem er á útleið.</span><span class="sxs-lookup"><span data-stu-id="d5ade-199">The **Report\\Message\\Summary** element doesn't have to be bound to a data source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="d5ade-200">Eigindin **TotalTaxAmount** er bundin við **model.Data.Summary.Total** til að mynda summuna af skattagildum á unnum skattafærslum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-200">The **TotalTaxAmount** attribute is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="d5ade-201">Eigindin **ExecutionDateTime** myndar dagsetningu og tíma (þ.m.t. millisekúndur) þegar yfirlitshnútnum er bætt við.</span><span class="sxs-lookup"><span data-stu-id="d5ade-201">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the summary node is added.</span></span>

    ![Vörpunarflipinn á síðunni Sniðshönnuður](./media/ER-DeferredXml-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="d5ade-203">Keyrðu innflutta sniðið</span><span class="sxs-lookup"><span data-stu-id="d5ade-203">Run the imported format</span></span>

1. <span data-ttu-id="d5ade-204">Á síðunni **Sniðshönnuður** skal velja **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-204">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="d5ade-205">Sæktu skrána sem vefskoðarinn býður upp á og opnaðu hana til skoðunar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-205">Download the file that the web browser offers, and open it for review.</span></span>

    ![Sótt skrá](./media/ER-DeferredXml-Run.png)

<span data-ttu-id="d5ade-207">Taktu eftir að yfirlitshnúturinn sýnir summan af skattagildum fyrir unnar færslur.</span><span class="sxs-lookup"><span data-stu-id="d5ade-207">Notice that the summary node presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="d5ade-208">Vegna þess að sniðið er stillt til að nota **model.Data.Summary.Total** bindandi til að skila þessari fjárhæð, er summan reiknuð með því að kalla í uppsöfnunina **TotalSum** á gagnagjafann **Flokkað** af gerðinni *GroupBy* í líkanavörpuninni.</span><span class="sxs-lookup"><span data-stu-id="d5ade-208">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type in the model mapping.</span></span> <span data-ttu-id="d5ade-209">Til að reikna þessa uppsöfnun endurtekur líkanavörpunin yfir allar færslur sem hafa verið valdar í gagnagjafanum **Síað**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-209">To calculate this aggregation, the model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="d5ade-210">Með því að bera saman framkvæmdartíma yfirlitshnútsins og síðasta skráningarhnút geturðu ákvarðað að útreikningur á summan tók 12 millisekúndur (ms).</span><span class="sxs-lookup"><span data-stu-id="d5ade-210">By comparing the execution times of the summary node and the last record node, you can determine that calculation of the sum took 12 milliseconds (ms).</span></span> <span data-ttu-id="d5ade-211">Með því að bera saman framkvæmdatíma fyrsta og síðasta skrána hnút, getur þú ákvarðað að kynslóð allra skránna hafi tekið 9 ms.</span><span class="sxs-lookup"><span data-stu-id="d5ade-211">By comparing the execution times of the first and last record nodes, you can determine that generation of all record nodes took 9 ms.</span></span> <span data-ttu-id="d5ade-212">Þess vegna var krafist alls 21 ms.</span><span class="sxs-lookup"><span data-stu-id="d5ade-212">Therefore, a total of 21 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-calculation-is-based-on-generated-output"></a><span data-ttu-id="d5ade-213">Breyttu sniði þannig að útreikningurinn byggist á mynduðum framleiðsla</span><span class="sxs-lookup"><span data-stu-id="d5ade-213">Modify the format so that the calculation is based on generated output</span></span>

<span data-ttu-id="d5ade-214">Ef magn viðskipta er miklu stærra en rúmmálið í núverandi dæmi gæti útreikningstíminn aukist og valdið afkomuvandamálum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-214">If the volume of transaction is much larger than the volume in the current example, the calculation time might increase and cause performance issues.</span></span> <span data-ttu-id="d5ade-215">Með því að breyta stillingum sniðsins geturðu hjálpað til við að koma í veg fyrir þessi frammistöðuvandamál.</span><span class="sxs-lookup"><span data-stu-id="d5ade-215">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="d5ade-216">Vegna þess að þú hefur aðgang að skattagildum til að fela þau í skýrsluna sem myndað er, getur þú notað þessar upplýsingar til að reikna út skattgildi.</span><span class="sxs-lookup"><span data-stu-id="d5ade-216">Because you access tax values to include them in the generated report, you can reuse this information to calculate tax values.</span></span> <span data-ttu-id="d5ade-217">Fyrir frekari upplýsingar, sjá [Stilla snið til að gera talningu og samlagningu](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="d5ade-217">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="d5ade-218">Á síðunni **Sniðmátshönnuður**, á flipanum **Snið**, veldu skráarþáttinn **Skýrsla** í sniðmátstrénu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-218">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="d5ade-219">Stilltu valkostinn **Safna saman úttaksupplýsingum** á **Já**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-219">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="d5ade-220">Þú getur nú stillt þetta snið með því að nota innihald myndaðrar skýrslu sem gagnagjafinn sem hægt er að nálgast með því að nota innbyggðu ER aðgerðirnar í flokknum [Gagnasafn](er-functions-category-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="d5ade-220">You can now configure this format by using the content of a generated report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="d5ade-221">Á flipanum **Vörpun** velurðu XML-þáttinn **Skýrsla\\Skilaboð\\Skrá**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-221">On the **Mapping** tab, select the **Report\\Message\\Record** XML element.</span></span>
4. <span data-ttu-id="d5ade-222">Stilltu segðina **Heiti lykils fyrir söfnuð gögn** sem `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="d5ade-222">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="d5ade-223">Stilltu segðina **Gildi lykils fyrir söfnuð gögn** sem `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="d5ade-223">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Skrá XML-þátt á síðunni Sniðmátshönnuður](./media/ER-DeferredXml-Format3.png)

6. <span data-ttu-id="d5ade-225">Veldu eigindið **Skýrsla\\Skilaboð\\Skrá\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-225">Select the **Report\\Message\\Record\\TaxAmount** attribute.</span></span>
7. <span data-ttu-id="d5ade-226">Stilltu segðina **Heiti lykils fyrir söfnuð gögn** sem `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="d5ade-226">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![Eigindin TaxAmount á síðunni Sniðmátshönnuður](./media/ER-DeferredXml-Format4.png)

    <span data-ttu-id="d5ade-228">Þú getur íhugað þessa stillingu efndir á sýndarverkefnisblaði, þar sem verðmæti hólfs A1 er bætt við verðmæti skattafjárhæðarinnar frá hverri afgreiddri skattafærslu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-228">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="d5ade-229">Veldu eigindina **Skýrsla\\Skilaboð\\Skrá\\RunningTotal** og veldu síðan **Breyta formúlu**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-229">Select the **Report\\Message\\Record\\RunningTotal** attribute, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="d5ade-230">Stilltu segðina `SUMIF(SummingAmountKey, WsColumn, WsRow)` með því að nota innbyggða [SUMIF](er-functions-datacollection-sumif.md) ER aðgerð og veldu síðan **Vista**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-230">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function, and then select **Save**.</span></span>

    ![SUMIF segð](./media/ER-DeferredXml-FormulaDesigner.png)

10. <span data-ttu-id="d5ade-232">Lokaðu síðunni **Formúluhönnuður**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-232">Close the **Formula designer** page.</span></span>
11. <span data-ttu-id="d5ade-233">Veldu **Vista** og síðan **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-233">Select **Save**, and then select **Run**.</span></span>
12. <span data-ttu-id="d5ade-234">Sæktu og farðu yfir skrána sem vefskoðarinn býður upp á og opnaðu hana til skoðunar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-234">Download and review the file that the web browser offers.</span></span>

    ![Sótt skrá](./media/ER-DeferredXml-Run1.png)

    <span data-ttu-id="d5ade-236">Síðasti skráningarhnúturinn inniheldur hlaupandi samtölu skattagilda sem eru reiknuð fyrir öll afgreidd viðskipti með því að nota myndaða framleiðsluna sem gagnagjafa.</span><span class="sxs-lookup"><span data-stu-id="d5ade-236">The last record node contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="d5ade-237">Þessi gagnagjafi hefst á byrjun skýrslunnar og heldur áfram í gegnum síðustu skattafærslu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-237">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="d5ade-238">Yfirlitshnúturinn inniheldur summan af skattagildum fyrir allar unnar færslur sem eru reiknaðar út í líkanavörpun með því að nota gagnagjafa af gerðinni *GroupBy*.</span><span class="sxs-lookup"><span data-stu-id="d5ade-238">The summary node contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="d5ade-239">Taktu eftir að þessi gildi eru jöfn.</span><span class="sxs-lookup"><span data-stu-id="d5ade-239">Notice that these values are equal.</span></span> <span data-ttu-id="d5ade-240">Þess vegna er hægt að nota samlagningu sem byggir á úttaki í staðinn fyrir **GroupBy**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-240">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="d5ade-241">Með því að bera saman framkvæmdatíma fyrsta skráarhnútsins og yfirlitshnútsins, getur þú ákvarðað að myndun allra skráarhnútanna og yfirlit hafi tekið 11 ms.</span><span class="sxs-lookup"><span data-stu-id="d5ade-241">By comparing the execution times of the first record node and the summary node, you can determine that generation of all the record nodes and summing took 11 ms.</span></span> <span data-ttu-id="d5ade-242">Þess vegna er breytta sniðið um það bil tvisvar sinnum hraðara en upprunalega sniðið varðandi myndun skráarhnúta og summan af skattagildum.</span><span class="sxs-lookup"><span data-stu-id="d5ade-242">Therefore, as far as the generation of record nodes and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

13. <span data-ttu-id="d5ade-243">Veldu eigindina **Skýrsla\\Skilaboð\\Yfirlit\\TotalTaxAmount** og veldu síðan **Breyta formúlu**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-243">Select the **Report\\Message\\Summary\\TotalTaxAmount** attribute, and then select **Edit formula**.</span></span>
14. <span data-ttu-id="d5ade-244">Sláðu inn segðina `SUMIF(SummingAmountKey, WsColumn, WsRow)` í stað núverandi segðar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-244">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
15. <span data-ttu-id="d5ade-245">Veldu **Vista** og síðan **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-245">Select **Save**, and then select **Run**.</span></span>
16. <span data-ttu-id="d5ade-246">Sæktu og farðu yfir skrána sem vefskoðarinn býður upp á og opnaðu hana til skoðunar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-246">Download and review the file that the web browser offers.</span></span>

    ![Sótt skrá](./media/ER-DeferredXml-Run2.png)

    <span data-ttu-id="d5ade-248">Taktu eftir því að hlaupandi samtala skattagilda í síðasta færsluhnút er nú jafnhá samtölu yfirlitshnútsins.</span><span class="sxs-lookup"><span data-stu-id="d5ade-248">Notice that the running total of tax values in the last record node now equals the sum in the summary node.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="d5ade-249">Settu gildi framleiðslutengdrar summunar í haus skýrslunnar</span><span class="sxs-lookup"><span data-stu-id="d5ade-249">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="d5ade-250">Ef þú til dæmis verður að setja summan af skattagildum í haus skýrslunnar geturðu breytt sniði þínu.</span><span class="sxs-lookup"><span data-stu-id="d5ade-250">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="d5ade-251">Á síðunni **Sniðmátshönnuður**, á flipanum **Snið**, veldu XML-þáttinn **Skýrsla\\Skilaboð\\Yfirlit**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-251">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="d5ade-252">Veldu **Færa upp**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-252">Select **Move up**.</span></span>
3. <span data-ttu-id="d5ade-253">Veldu **Vista** og síðan **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-253">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="d5ade-254">Sæktu og farðu yfir skrána sem vefskoðarinn býður upp á og opnaðu hana til skoðunar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-254">Download and review the file that the web browser offers.</span></span>

    ![Sótt skrá](./media/ER-DeferredXml-Run3.png)

    <span data-ttu-id="d5ade-256">Taktu eftir að summan af skattagildum í yfirlitshnútnum er nú jöfn 0 (núll), vegna þess að þessi summa er nú reiknuð út frá mynduðu úttaki.</span><span class="sxs-lookup"><span data-stu-id="d5ade-256">Notice that the sum of tax values in the summary node now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="d5ade-257">Þegar fyrsti hnúturinn er myndaður inniheldur myndað úttak ekki enn skráarhnúta sem hafa upplýsingar um færslur.</span><span class="sxs-lookup"><span data-stu-id="d5ade-257">When the first record node is generated, the generated output doesn't yet contain record nodes that have transaction details.</span></span> <span data-ttu-id="d5ade-258">Þú getur stillt þetta snið til að fresta framkvæmd á þættinum **Skýrsla\\Skilaboð\\Yfirlit** þar til að þátturinn **Skýrsla\\Skilaboð\\Skrá** hefur verið keyrður fyrir allar skattafærslur.</span><span class="sxs-lookup"><span data-stu-id="d5ade-258">You can configure this format to defer the execution of the **Report\\Message\\Summary** element until the **Report\\Message\\Record** element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used"></a><span data-ttu-id="d5ade-259">Frestaðu framkvæmd samantektar XML-þáttarins þannig að reiknuð samtala sé notuð</span><span class="sxs-lookup"><span data-stu-id="d5ade-259">Defer the execution of the summary XML element so that the calculated total is used</span></span>

1. <span data-ttu-id="d5ade-260">Á síðunni **Sniðmátshönnuður**, á flipanum **Snið**, veldu XML-þáttinn **Skýrsla\\Skilaboð\\Yfirlit**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-260">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="d5ade-261">Stillið valkostinn **Frestuð framkvæmd** á **Já**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-261">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Frestaður framkvæmdarvalkostur yfirlits yfir XML-þáttinn á síðunni Sniðimátshönnuður](./media/ER-DeferredXml-Format5.png)

3. <span data-ttu-id="d5ade-263">Veldu **Vista** og síðan **Keyra**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-263">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="d5ade-264">Sæktu og farðu yfir skrána sem vefskoðarinn býður upp á og opnaðu hana til skoðunar.</span><span class="sxs-lookup"><span data-stu-id="d5ade-264">Download and review the file that the web browser offers.</span></span>

    ![Sótt skrá](./media/ER-DeferredXml-Run4.png)

    <span data-ttu-id="d5ade-266">Þátturinn **Skýrsla\\Skilaboð\\Yfirlit** er nú aðeins keyrður þegar allir aðrir hlutir sem eru ívafðir undir yfirþættinum **Skýrsla\\Skilaboð** hafa verið keyrðir.</span><span class="sxs-lookup"><span data-stu-id="d5ade-266">The **Report\\Message\\Summary** element is now run only after all other items that are nested under its parent element, **Report\\Message**, have been run.</span></span> <span data-ttu-id="d5ade-267">Þess vegna er hann keyrður þegar þátturinn **Skýrsla\\Skilaboð\\Skrá** hefur verið keyrður fyrir allar skattafærslur í gagnagjafanum **model.Data.List**.</span><span class="sxs-lookup"><span data-stu-id="d5ade-267">Therefore, it's run after the **Report\\Message\\Record** element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="d5ade-268">Framkvæmdartímar fyrstu og síðustu skráarhnútanna og um haus og yfirlitshnúta sýna þessa staðreynd.</span><span class="sxs-lookup"><span data-stu-id="d5ade-268">The execution times of the first and last record nodes, and of the header and summary nodes, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="d5ade-269">Frekari upplýsingar</span><span class="sxs-lookup"><span data-stu-id="d5ade-269">Additional resources</span></span>

- [<span data-ttu-id="d5ade-270">Skilgreina snið til að gera talningu og samlagningu</span><span class="sxs-lookup"><span data-stu-id="d5ade-270">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="d5ade-271">Rekja framkvæmd á sniði rafrænnar skýrslugerðar til að úrræðaleita vandamál sem tengjast afköstum</span><span class="sxs-lookup"><span data-stu-id="d5ade-271">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="d5ade-272">Frestaðu framkvæmd raðarþátta á ER sniði</span><span class="sxs-lookup"><span data-stu-id="d5ade-272">Defer the execution of sequence elements in ER formats</span></span>](er-defer-sequence-element.md#Example)
