---
title: Endurbætur á virkni yfirlitsbókunar
description: Þetta efnisatriði lýsir endurbótum sem hafa verið gerðar á bókun uppgjörs eiginleikanum.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 68abef8f28c04a4f6f88e638c8abf944d06a32c4
ms.sourcegitcommit: 12b9d6f2dd24e52e46487748c848864909af6967
ms.translationtype: HT
ms.contentlocale: is-IS
ms.lasthandoff: 02/14/2020
ms.locfileid: "3057256"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="99375-103">Endurbætur á virkni yfirlitsbókunar</span><span class="sxs-lookup"><span data-stu-id="99375-103">Improvements to statement posting functionality</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="99375-104">Þetta efnisatriði lýsir fyrsta safni endurbóta sem hafa verið gerðar á bókun uppgjörs eiginleikanum.</span><span class="sxs-lookup"><span data-stu-id="99375-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="99375-105">Þessar endurbætur eru í boði í Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span><span class="sxs-lookup"><span data-stu-id="99375-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="99375-106">Virkjun</span><span class="sxs-lookup"><span data-stu-id="99375-106">Activation</span></span>

<span data-ttu-id="99375-107">Sjálfgefið er, við uppsetningu á Finance and Operations 7.3.2, að forritið er sett upp til að nota eldri eiginleika á bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="99375-108">Til að virkja endurbættan eiginleika á bókun uppgjörs verður þú að kveikja á skilgreiningarlyklinum fyrir hann.</span><span class="sxs-lookup"><span data-stu-id="99375-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="99375-109">Farðu í **Kerfisstjórnun** \> **Uppsetning** \> **Leyfisskilgreinin** og síðan undir hnútnum **Retail og Commerce** skal hreinsa gátreitinn **Yfirlit (eldra)** og velja gátreitinn **Yfirlit**.</span><span class="sxs-lookup"><span data-stu-id="99375-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail and Commerce** node, clear the **Statements (legacy)** check box, and select the **Statements** check box.</span></span>

<span data-ttu-id="99375-110">Þegar kveikt er á nýja skilgreiningarlyklinum fyrir **Yfirlit** er nýtt valmyndaratriði sem heitir **Yfirlit** tiltækt.</span><span class="sxs-lookup"><span data-stu-id="99375-110">When the new **Statements** configuration key is turned on, a new menu item that is named **Statements** is available.</span></span> <span data-ttu-id="99375-111">Þetta valmyndaratriði gerir þér kleift að búa til handvirkt, reikna og bóka uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="99375-112">Öll uppgjör sem valda villu þegar runubókunarferlið er notað verða einnig tiltæk í gegnum þetta valmyndaratriði.</span><span class="sxs-lookup"><span data-stu-id="99375-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="99375-113">(Þegar kveikt er á skilgreiningarlyklinum fyrir **Yfirlit (eldra)** er valmyndaratriðið kallað **Opin yfirlit**.)</span><span class="sxs-lookup"><span data-stu-id="99375-113">(When the **Statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="99375-114">Commerce felur í sér eftirfarandi staðfestingar sem tengjast þessum skilgreiningarlyklum:</span><span class="sxs-lookup"><span data-stu-id="99375-114">Commerce includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="99375-115">Ekki er hægt að kveikja á báðum skilgreiningarlyklunum á sama tíma.</span><span class="sxs-lookup"><span data-stu-id="99375-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="99375-116">Það verður að nota sömu skilgreiningarlyklana fyrir allar þær aðgerðir sem eru framkvæmdar á tilteknu uppgjöri á meðan á líftíma þess stendur (stofna, reikna út, hreinsa, bóka, o.s.frv.).</span><span class="sxs-lookup"><span data-stu-id="99375-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="99375-117">Til dæmis getur þú ekki búið til og reiknað út uppgjör á meðan kveikt er á skilgreiningarlyklinum fyrir **Yfirlit (eldra)** og síðan reyna að bóka sama uppgjör á meðan kveikt er á skilgreiningarlyklinum fyrir **Yfirlit**.</span><span class="sxs-lookup"><span data-stu-id="99375-117">For example, you can't create and calculate a statement while the **Statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="99375-118">Við mælum með því að þú notir skilgreiningarlykilinn fyrir **Yfirlit** fyrir endurbættan eiginleika á bókun uppgjörs, nema þú hafir góðar ástæður fyrir því að nota í staðinn skilgreiningarlykilinn fyrir **Yfirlit (eldra)**.</span><span class="sxs-lookup"><span data-stu-id="99375-118">We recommend that you use the **Statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="99375-119">Microsoft mun halda áfram að fjárfesta í nýjum og bættum eiginleika fyrir bókun uppgjörs og það er mikilvægt að þú skiptir yfir í hann eins fljótt og auðið er til að njóta góðs af honum.</span><span class="sxs-lookup"><span data-stu-id="99375-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="99375-120">Eiginleikinn fyrir bókun á eldra uppgjöri er úreltur frá og með útgáfu 8.0.</span><span class="sxs-lookup"><span data-stu-id="99375-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="99375-121">Setja upp</span><span class="sxs-lookup"><span data-stu-id="99375-121">Setup</span></span>

<span data-ttu-id="99375-122">Sem hluti af endurbótum á eiginleikanum fyrir bókun uppgjörs hafa þrjár nýjar færibreytur verið kynntar til sögunnar á flýtiflipanum **Uppgjör** á flipanum **Bókun** á síðunni **Færibreytur Commerce**:</span><span class="sxs-lookup"><span data-stu-id="99375-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span>

- <span data-ttu-id="99375-123">**Slökkva á hreinsun upppgjörs** - Þessi valkostur er aðeins tiltækur í eldri eiginleika á bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="99375-124">Við mælum með að þú stillir þennan valkost á **Nei** til að koma í veg fyrir að notendur hreinsi uppgjör sem eru í hálfbókaðri stöðu.</span><span class="sxs-lookup"><span data-stu-id="99375-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="99375-125">Ef yfirlýsingar, sem eru í hálfbókaðri stöðu, eru hreinsaðar skemmast gögn.</span><span class="sxs-lookup"><span data-stu-id="99375-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="99375-126">Þú ættir að stilla þennan valkost á **Já** aðeins í undantekningartilvikum.</span><span class="sxs-lookup"><span data-stu-id="99375-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="99375-127">**Frátekning birgða við útreikning** - Við mælum með því að þú notir runuvinnsluna **Bóka birgðir** fyrir birgðafrátekningu og að þú stillir þennan valkost á **Nei**.</span><span class="sxs-lookup"><span data-stu-id="99375-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="99375-128">Þegar þessi valkostur er stilltur á **Nei** reynir endurbætti eiginleikinn á bókun uppgjörs ekki að búa til færslur birgðafrátekningar á meðan á útreikning stendur (ef færslur voru ekki þegar búnar til í gegnum runuvinnsluna **Bóka birgðir**).</span><span class="sxs-lookup"><span data-stu-id="99375-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="99375-129">Í staðinn býr eiginleikinn til færslur birgðafrátekningar aðeins þegar bókun á sér stað.</span><span class="sxs-lookup"><span data-stu-id="99375-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="99375-130">Þessi framkvæmd var hönnunarval og byggðist á þeirri staðreynd að tímaglugginn á milli útreikningsferlis og bókunarferlis er yfirleitt lítill.</span><span class="sxs-lookup"><span data-stu-id="99375-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="99375-131">Ef þú vilt hins vegar taka frá birgðir á meðan á útreikningi stendur getur þú stillt þennan valkost á **Já**.</span><span class="sxs-lookup"><span data-stu-id="99375-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="99375-132">Eldri eiginleikinn fyrir bókun uppgjörs tekur alltaf frá birgðir á meðan á útreikningsferli uppgjörs stendur yfir (ef frátekning var ekki þegar gerð í gegnum runuvinnsluna **Bóka birgðir**), án tillits til stillingar á þessum valkosti.</span><span class="sxs-lookup"><span data-stu-id="99375-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="99375-133">**Gera þarf talningu óvirka** - Þegar þessi valkostur er stilltur á **Já** heldur bókunarferli á uppgjöri áfram, jafnvel þótt mismunurinn á talinni upphæð og færsluupphæð í uppgjörinu sé utan markanna sem eru skilgreind í flýtiflipanum **Uppgjör** fyrir verslanir.</span><span class="sxs-lookup"><span data-stu-id="99375-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for stores.</span></span>

<span data-ttu-id="99375-134">Auk þess hafa eftirfarandi færibreytur verið kynntar til sögunnar í flýtiflipanum **Runuvinnsla** í flipanum **Bókun** á síðunni **Færibreytur Commerce**:</span><span class="sxs-lookup"><span data-stu-id="99375-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span> 

- <span data-ttu-id="99375-135">**Hámarksfjöldi samhliða uppgjörsbókana** - Þessi reitur skilgreinir fjölda runuverka sem verða notuð til að bóka mörg uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-135">**Maximum number of parallel statement posting** – This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="99375-136">**Hámarksfjöldi þráða fyrir úrvinnslu pöntunar á hvert yfirlit** - Þessi reitur sýnir hámarksfjölda þráða sem runuvinnsla uppgjörsbókunar notar til að stofna og reikningsfæra sölupantanir fyrir eitt uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-136">**Max thread for order processing per statement** – This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="99375-137">Hámarksfjöldi þráða sem bókunarferli uppgjörs notar verður reiknaður út samkvæmt gildinu í þessari færibreytu margfaldað með gildinu í færibreytunni **Hámarksfjöldi samhliða uppgjörsbókana**.</span><span class="sxs-lookup"><span data-stu-id="99375-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="99375-138">Ef gildið á þessari færibreytu er stillt of hátt getur það haft neikvæð áhrif á afköst bókunarferlis uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="99375-139">**Hámarksfjöldi færslulína í uppsöfnun** - Þessi reitur skilgreinir fjölda færslulína sem verða með í einni uppsafnaðri færslu áður en ný er búin til.</span><span class="sxs-lookup"><span data-stu-id="99375-139">**Max transaction lines included in aggregation** – This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="99375-140">Uppsafnaðar færslur eru stofnaðar á grunni ólíkra skilyrða uppsöfnunar, t.d. viðskiptavinur, viðskiptadagur eða fjárhagsvídd.</span><span class="sxs-lookup"><span data-stu-id="99375-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="99375-141">Mikilvægt er að hafa í huga að línunum í stakri færslu verður ekki skipt niður milli mismunandi uppsafnaðra færsla.</span><span class="sxs-lookup"><span data-stu-id="99375-141">It is important to note that the lines from a single transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="99375-142">Þetta þýðir að möguleiki er á því að fjöldi lína í uppsafnaðri færslu er örlítið meiri eða minni vegna þátta á borð við fjölda einkvæmra afurða.</span><span class="sxs-lookup"><span data-stu-id="99375-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="99375-143">**Hámarksfjöldi þráða til að villuleita í færslum verslunar** - Þessi reitur skilgreinir fjölda þráða sem verður notaður til að villuleita færslur.</span><span class="sxs-lookup"><span data-stu-id="99375-143">**Maximum number of threads to validate store transactions** – This field defines the number of threads that will be used to validate transactions.</span></span> <span data-ttu-id="99375-144">Villuleit á færslum er nauðsynlegt skref sem þarf að gerast áður en hægt er að færa færslurnar inn í uppgjörin.</span><span class="sxs-lookup"><span data-stu-id="99375-144">Validating transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="99375-145">Einnig þarf að skilgreina **Gjafakortsvöru** í flýtiflipanum **Gjafakort** í flipanum **Bókun** á síðunni **Færibreytur Commerce**.</span><span class="sxs-lookup"><span data-stu-id="99375-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="99375-146">Þetta þarf að skilgreina, jafnvel þótt fyrirtækið noti ekki gjafakort.</span><span class="sxs-lookup"><span data-stu-id="99375-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="99375-147">Allar stillingar og færibreytur sem tengjast bókun uppgjörs og sem eru skilgreindar í verslunum og á síðunni **Færibreytur Commerce** eiga við í endurbættum eiginleika fyrir bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-147">All settings and parameters that are related to statement postings, and that are defined on stores and on the **Commerce parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="99375-148">Í vinnslu</span><span class="sxs-lookup"><span data-stu-id="99375-148">Processing</span></span>

<span data-ttu-id="99375-149">Hægt er að reikna út og bóka uppgjör í lotu með valmyndaratriðinu **Útreikningur uppgjörs í runu** og **Bóka uppgjör í runu**.</span><span class="sxs-lookup"><span data-stu-id="99375-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="99375-150">Að öðrum kosti er hægt að reikna út og bóka uppgjör handvirkt með valmyndaratriðinu **Yfirlit** sem endurbætti eiginleikinn fyrir bókun uppgjörs veitir.</span><span class="sxs-lookup"><span data-stu-id="99375-150">Alternatively, statements can be manually calculated and posted by using the **Statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="99375-151">Ferlið og skrefin til að reikna út og bóka uppgjör í runu eru þau sömu og þau voru í eldri bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="99375-152">Hins vegar hafa verulegar endurbætur átt sér stað í kjarnastarfsemi á vinnslu uppgjaranna.</span><span class="sxs-lookup"><span data-stu-id="99375-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="99375-153">Þessar endurbætur gera ferlið sterkara og veita betri sýnileika í upplýsingar um stöður og villur.</span><span class="sxs-lookup"><span data-stu-id="99375-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="99375-154">Þess vegna geta notendur tekist á við orsök villanna og síðan haldið áfram með bókunarferlið án þess að gögnin skemmist og án þess að þurfa á lagfæringu gagna að halda.</span><span class="sxs-lookup"><span data-stu-id="99375-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="99375-155">Eftirfarandi kaflar lýsa nokkrum af helstu endurbótunum á eiginleikanum fyrir bókun uppgjörs sem birtast í notendaviðmótinu fyrir yfirlit og bókuð uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="99375-156">Stöðuupplýsingar</span><span class="sxs-lookup"><span data-stu-id="99375-156">Status details</span></span>

<span data-ttu-id="99375-157">Nýtt stöðulíkan hefur verið kynnt í reglubundinni bókun uppgjörs yfir ferli útreikninga og bókunar.</span><span class="sxs-lookup"><span data-stu-id="99375-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="99375-158">Eftirfarandi tafla lýsir hinum ýmsu stöðum og röð þeirra í útreikningsferlinu.</span><span class="sxs-lookup"><span data-stu-id="99375-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="99375-159">Röðun á stöðu</span><span class="sxs-lookup"><span data-stu-id="99375-159">State order</span></span> | <span data-ttu-id="99375-160">Ríki</span><span class="sxs-lookup"><span data-stu-id="99375-160">State</span></span>      | <span data-ttu-id="99375-161">lýsing</span><span class="sxs-lookup"><span data-stu-id="99375-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="99375-162">1</span><span class="sxs-lookup"><span data-stu-id="99375-162">1</span></span>           | <span data-ttu-id="99375-163">Hafið</span><span class="sxs-lookup"><span data-stu-id="99375-163">Started</span></span>    | <span data-ttu-id="99375-164">Uppgjörið var búið til og er tilbúið til útreiknings.</span><span class="sxs-lookup"><span data-stu-id="99375-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="99375-165">2</span><span class="sxs-lookup"><span data-stu-id="99375-165">2</span></span>           | <span data-ttu-id="99375-166">Merkt</span><span class="sxs-lookup"><span data-stu-id="99375-166">Marked</span></span>     | <span data-ttu-id="99375-167">Færslurnar sem falla undir uppgjörið eru auðkenndar á grundvelli færibreyta uppgjörs og þær eru merktar með auðkenni uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="99375-168">3</span><span class="sxs-lookup"><span data-stu-id="99375-168">3</span></span>           | <span data-ttu-id="99375-169">Reiknað</span><span class="sxs-lookup"><span data-stu-id="99375-169">Calculated</span></span> | <span data-ttu-id="99375-170">Uppgjörslínurnar eru reiknaðar og sýndar.</span><span class="sxs-lookup"><span data-stu-id="99375-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="99375-171">Eftirfarandi tafla lýsir hinum ýmsu stöðum og röð þeirra í bókunarferlinu.</span><span class="sxs-lookup"><span data-stu-id="99375-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="99375-172">Röðun á stöðu</span><span class="sxs-lookup"><span data-stu-id="99375-172">State order</span></span> | <span data-ttu-id="99375-173">Ríki</span><span class="sxs-lookup"><span data-stu-id="99375-173">State</span></span>                   | <span data-ttu-id="99375-174">lýsing</span><span class="sxs-lookup"><span data-stu-id="99375-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="99375-175">1</span><span class="sxs-lookup"><span data-stu-id="99375-175">1</span></span>           | <span data-ttu-id="99375-176">Merkt</span><span class="sxs-lookup"><span data-stu-id="99375-176">Checked</span></span>                 | <span data-ttu-id="99375-177">Margar villuleitir eru gerðar sem tengjast færibreytum (til dæmis ráðstöfunargjaldi) og uppgjöri og uppgjörslínum (til dæmis munurinn á milli talinnar upphæðar og færsluupphæðar).</span><span class="sxs-lookup"><span data-stu-id="99375-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="99375-178">2</span><span class="sxs-lookup"><span data-stu-id="99375-178">2</span></span>           | <span data-ttu-id="99375-179">Uppsafnað</span><span class="sxs-lookup"><span data-stu-id="99375-179">Aggregated</span></span>              | <span data-ttu-id="99375-180">Sölufærslum fyrir nefnda og ónefnda viðskiptavini er safnað saman á grundvelli skilgreiningarinnar.</span><span class="sxs-lookup"><span data-stu-id="99375-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="99375-181">Öllum uppsöfnuðum færslum er að lokum breytt í sölupöntun.</span><span class="sxs-lookup"><span data-stu-id="99375-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="99375-182">3</span><span class="sxs-lookup"><span data-stu-id="99375-182">3</span></span>           | <span data-ttu-id="99375-183">Pöntun viðskiptavinar stofnuð</span><span class="sxs-lookup"><span data-stu-id="99375-183">Customer order created</span></span>  | <span data-ttu-id="99375-184">Sölupantanir eru stofnaðar í kerfinu á grundvelli uppsafnaðra færslna.</span><span class="sxs-lookup"><span data-stu-id="99375-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="99375-185">4</span><span class="sxs-lookup"><span data-stu-id="99375-185">4</span></span>           | <span data-ttu-id="99375-186">Pöntun viðskiptavinar reikningsfærð</span><span class="sxs-lookup"><span data-stu-id="99375-186">Customer order invoiced</span></span> | <span data-ttu-id="99375-187">Sölupantanir eru reikningsfærðar.</span><span class="sxs-lookup"><span data-stu-id="99375-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="99375-188">5</span><span class="sxs-lookup"><span data-stu-id="99375-188">5</span></span>           | <span data-ttu-id="99375-189">Bókaðir afslættir</span><span class="sxs-lookup"><span data-stu-id="99375-189">Discounts posted</span></span>        | <span data-ttu-id="99375-190">Færslubækur tímabundins afsláttar eru bókaðar á grundvelli skilgreiningarinnar.</span><span class="sxs-lookup"><span data-stu-id="99375-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="99375-191">6</span><span class="sxs-lookup"><span data-stu-id="99375-191">6</span></span>           | <span data-ttu-id="99375-192">Bókaðar tekjur/útgjöld</span><span class="sxs-lookup"><span data-stu-id="99375-192">Income/expense posted</span></span>   | <span data-ttu-id="99375-193">Færslur tekja/gjalda eru bókaðar sem fylgiskjöl.</span><span class="sxs-lookup"><span data-stu-id="99375-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="99375-194">7</span><span class="sxs-lookup"><span data-stu-id="99375-194">7</span></span>           | <span data-ttu-id="99375-195">Fylgiskjöl tengd</span><span class="sxs-lookup"><span data-stu-id="99375-195">Vouchers linked</span></span>         | <span data-ttu-id="99375-196">Greiðslubækur eru búnar til og tengdar samsvarandi reikningi.</span><span class="sxs-lookup"><span data-stu-id="99375-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="99375-197">8</span><span class="sxs-lookup"><span data-stu-id="99375-197">8</span></span>           | <span data-ttu-id="99375-198">Bókaðar greiðslur</span><span class="sxs-lookup"><span data-stu-id="99375-198">Payments posted</span></span>         | <span data-ttu-id="99375-199">Greiðslubækur eru bókaðar.</span><span class="sxs-lookup"><span data-stu-id="99375-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="99375-200">9</span><span class="sxs-lookup"><span data-stu-id="99375-200">9</span></span>           | <span data-ttu-id="99375-201">Bókuð gjafakort</span><span class="sxs-lookup"><span data-stu-id="99375-201">Gift cards posted</span></span>       | <span data-ttu-id="99375-202">Gjafakortsfærslur eru bókaðar sem fylgiskjöl.</span><span class="sxs-lookup"><span data-stu-id="99375-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="99375-203">10</span><span class="sxs-lookup"><span data-stu-id="99375-203">10</span></span>          | <span data-ttu-id="99375-204">Birt</span><span class="sxs-lookup"><span data-stu-id="99375-204">Posted</span></span>                  | <span data-ttu-id="99375-205">Uppgjörið er merkt sem bókað.</span><span class="sxs-lookup"><span data-stu-id="99375-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="99375-206">Sérhver staða í töflunni hér að framan er sjálfstæð í eðli sínu, og háð stigveldi er byggt á milli staðanna.</span><span class="sxs-lookup"><span data-stu-id="99375-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="99375-207">Þessi háðu tengsl færast frá toppi til botns.</span><span class="sxs-lookup"><span data-stu-id="99375-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="99375-208">Ef kerfið lendir í einhverjum villum meðan það vinnur með stöðu, er staða uppgjörsins fært aftur í fyrri stöðu.</span><span class="sxs-lookup"><span data-stu-id="99375-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="99375-209">Allar síðari endurtekningar á ferlinum halda áfram frá þeirri stöðu sem mistókst og heldur áfram þaðan.</span><span class="sxs-lookup"><span data-stu-id="99375-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="99375-210">Þessi aðferð hefur eftirfarandi kosti:</span><span class="sxs-lookup"><span data-stu-id="99375-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="99375-211">Notandinn hefur fullan sýnileika á stöðunni þar sem villan átti sér stað.</span><span class="sxs-lookup"><span data-stu-id="99375-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="99375-212">Komið er í veg fyrir skemmdir á gögnum.</span><span class="sxs-lookup"><span data-stu-id="99375-212">Data corruption is avoided.</span></span> <span data-ttu-id="99375-213">Til dæmis, í eiginleikanum fyrir bókun uppgjörs, voru tilvik þar sem sumar sölupantanir voru reikningsfærðar en aðrar skildar eftir opnar.</span><span class="sxs-lookup"><span data-stu-id="99375-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="99375-214">Það voru líka tilvik þar sem sumar greiðslubækur höfðu ekki samsvarandi reikninga til að gera upp vegna þess að villa kom upp við bókun á reikningi.</span><span class="sxs-lookup"><span data-stu-id="99375-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="99375-215">Notendur geta séð núverandi stöðu á uppgjöri með því að nota hnappinn **Upplýsingar um stöðu** í flokknum **Upplýsingar um framkvæmd** í uppgjöri.</span><span class="sxs-lookup"><span data-stu-id="99375-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="99375-216">Upplýsingasíða stöðu hefur þrjá hluta:</span><span class="sxs-lookup"><span data-stu-id="99375-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="99375-217">Fyrsti hluti sýnir núverandi stöðu á uppgjöri ásamt villukóða og ítarlegum villuboðum ef villa kom upp.</span><span class="sxs-lookup"><span data-stu-id="99375-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="99375-218">Annar hluti sýnir ýmsar stöður á útreikningsferlinu.</span><span class="sxs-lookup"><span data-stu-id="99375-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="99375-219">Sjónmerki gefa til kynna stöður sem hefur tekist að keyra, stöður sem ekki var hægt að keyra út af villum og stöður sem hafa ekki enn verið keyrðar.</span><span class="sxs-lookup"><span data-stu-id="99375-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="99375-220">Þriðja hluti sýnir ýmsar stöður á bókunarferlinu.</span><span class="sxs-lookup"><span data-stu-id="99375-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="99375-221">Sjónmerki gefa til kynna stöður sem hefur tekist að keyra, stöður sem ekki var hægt að keyra út af villum og stöður sem hafa ekki enn verið keyrðar.</span><span class="sxs-lookup"><span data-stu-id="99375-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="99375-222">Að auki sýnir hausinn í öðrum og þriðja hluta heildarstöðu viðkomandi ferils.</span><span class="sxs-lookup"><span data-stu-id="99375-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="99375-223">Tilvikaannálar</span><span class="sxs-lookup"><span data-stu-id="99375-223">Event logs</span></span>

<span data-ttu-id="99375-224">Uppgjör fer í gegnum ýmsar aðgerðir (til dæmis, stofna, reikna út, hreinsa og bóka) og hugsanlega verður kallað á mörg tilvik af sömu aðgerðinni á líftíma uppgjörsins.</span><span class="sxs-lookup"><span data-stu-id="99375-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="99375-225">Til dæmis, eftir að uppgjör er stofnað og reiknað út getur notandi hreinsað uppgjörið og reiknað það út aftur.</span><span class="sxs-lookup"><span data-stu-id="99375-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="99375-226">Hnappurinn **Tilvikaannáll** í **Upplýsingar um framkvæmd** flokki uppgjörsins veitir fulla endurskoðunarslóð af ýmsum aðgerðum sem var kallað á fyrir uppgjör, ásamt upplýsingum um hvenær var kallað eftir þessum aðgerðum.</span><span class="sxs-lookup"><span data-stu-id="99375-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="99375-227">Uppsafnaðar færslur</span><span class="sxs-lookup"><span data-stu-id="99375-227">Aggregated transactions</span></span>

<span data-ttu-id="99375-228">Í bókunarferlinu er sölufærslunum safnað saman á grundvelli skilgreiningarinnar.</span><span class="sxs-lookup"><span data-stu-id="99375-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="99375-229">Þessar uppsöfnuðu færslur eru geymdar í kerfinu og notaðar til að stofna sölupantanir.</span><span class="sxs-lookup"><span data-stu-id="99375-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="99375-230">Sérhver uppsöfnuð færsla stofnar eina samsvarandi sölupöntun í kerfinu.</span><span class="sxs-lookup"><span data-stu-id="99375-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="99375-231">Þú getur skoðað uppsafnaðar færslur með hnappnum **Uppsafnaðar færslur** í **Upplýsingar um framkvæmd** flokki uppgjörsins.</span><span class="sxs-lookup"><span data-stu-id="99375-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="99375-232">Flipinn **Upplýsingar um sölupöntun** á uppsafnaðri færslu sýnir eftirfarandi upplýsingar:</span><span class="sxs-lookup"><span data-stu-id="99375-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="99375-233">**Færslukenni** - Kenni uppsöfnuðu færslunnar.</span><span class="sxs-lookup"><span data-stu-id="99375-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="99375-234">**Uppgjörsnúmer** - Uppgjörið sem uppsafnaða færslan tilheyrir.</span><span class="sxs-lookup"><span data-stu-id="99375-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="99375-235">**Dagsetning** - Dagsetningin þegar uppsafnaða færslan var stofnuð.</span><span class="sxs-lookup"><span data-stu-id="99375-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="99375-236">**Sölukenni** - Sölupöntunarkennið þegar sölupöntun er stofnuð út frá uppsafnaðri færslu.</span><span class="sxs-lookup"><span data-stu-id="99375-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="99375-237">Ef þessi reitur er auður hefur samsvarandi sölupöntun ekki verið stofnuð.</span><span class="sxs-lookup"><span data-stu-id="99375-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="99375-238">**Fjöldi uppsafnaðra lína** - Heildarfjöldi lína fyrir uppsafnaða færslu og sölupöntun.</span><span class="sxs-lookup"><span data-stu-id="99375-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="99375-239">**Staða** - Síðasti staða uppsöfnuðu færslunnar.</span><span class="sxs-lookup"><span data-stu-id="99375-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="99375-240">**Reikningskenni** - Kenni sölureiknings þegar sölupöntun fyrir uppsafnaða færslu er stofnuð.</span><span class="sxs-lookup"><span data-stu-id="99375-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="99375-241">Ef þessi reitur er auður hefur reikningurinn fyrir sölupöntunina ekki verið bókaður.</span><span class="sxs-lookup"><span data-stu-id="99375-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="99375-242">Flipinn **Færsluupplýsingar** á uppsafnaðri færslu sýnir allar færslur sem hafa verið dregnar inn í uppsafnaða færslu.</span><span class="sxs-lookup"><span data-stu-id="99375-242">The **Transaction details** tab of an aggregated transaction shows all the transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="99375-243">Uppsafnaðar línur í uppsafnaðri færslu sýna allar uppsafnaðar skrár frá færslum.</span><span class="sxs-lookup"><span data-stu-id="99375-243">The aggregated lines on the aggregated transaction show all the aggregated records from the transactions.</span></span> <span data-ttu-id="99375-244">Uppsafnaðar línur sýna einnig upplýsingar eins og vöru, afbrigði, magn, verð, nettóupphæð, einingu og vöruhús.</span><span class="sxs-lookup"><span data-stu-id="99375-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="99375-245">Í grundvallaratriðum samsvarar hver uppsöfnuð lína einni sölupöntunarlínu.</span><span class="sxs-lookup"><span data-stu-id="99375-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="99375-246">Frá síðunni **Uppsafnaðar færslur** er hægt að hlaða niður XML-skrá fyrir tiltekna uppsafnaða færslu með því að nota hnappinn **Flytja út XML-skrá sölupantana**.</span><span class="sxs-lookup"><span data-stu-id="99375-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="99375-247">Þú getur notað XML-skrá til að kemba vandamál sem hafa með stofnun sölupantana og bókanir að gera.</span><span class="sxs-lookup"><span data-stu-id="99375-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="99375-248">Sæktu einfaldlega XML-skrána, svo skaltu hlaða hana upp í prófunarumhverfi og kemba vandamálið í prófunarumhverfinu.</span><span class="sxs-lookup"><span data-stu-id="99375-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="99375-249">Virknin til að hlaða niður XML-skránni fyrir uppsafnaða færslu er ekki í boði fyrir uppgjör sem hafa verið bókuð.</span><span class="sxs-lookup"><span data-stu-id="99375-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="99375-250">Yfirlit uppsafnaðrar færslu veitir eftirfarandi kosti:</span><span class="sxs-lookup"><span data-stu-id="99375-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="99375-251">Notandinn hefur sýnileika í uppsafnaðar færslur sem mistókust við stofnun sölupöntunar og sölupantanir sem mistókust við reikningsfærslu.</span><span class="sxs-lookup"><span data-stu-id="99375-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="99375-252">Notandinn hefur sýnileika í hvernig færslum er safnað saman.</span><span class="sxs-lookup"><span data-stu-id="99375-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="99375-253">Notandinn hefur fulla endurskoðunarslóð, frá færslum, til sölupantana, til sölureikninga.</span><span class="sxs-lookup"><span data-stu-id="99375-253">The user has a complete audit trail, from transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="99375-254">Þessi endurskoðunarslóð var ekki tiltæk í eldri eiginleikanum fyrir bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="99375-255">Uppsafnaðar XML-skrá gera það auðveldara að bera kennsl á vandamál við stofnun sölupöntunar og reikningsfærslu.</span><span class="sxs-lookup"><span data-stu-id="99375-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="99375-256">Færslubókarfylgiskjöl</span><span class="sxs-lookup"><span data-stu-id="99375-256">Journal vouchers</span></span>

<span data-ttu-id="99375-257">Hnappurinn **Færslubókarfylgiskjöl** í **Upplýsingar um framkvæmd** flokki uppgjörs sýnir hinar ýmsu fylgiskjalafærslur sem eru stofnaðar fyrir uppgjör og sem tengjast afsláttum, tekju-/gjaldareikningum, gjafakortum og svo framvegis.</span><span class="sxs-lookup"><span data-stu-id="99375-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="99375-258">Eins og er sýnir forritið aðeins þessar upplýsingar fyrir bókuð uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="99375-259">Greiðslubækur</span><span class="sxs-lookup"><span data-stu-id="99375-259">Payment journals</span></span>

<span data-ttu-id="99375-260">Hnappurinn **Greiðslubækur** í **Upplýsingar um framkvæmd** flokki uppgjörs sýnir hinar ýmsu greiðslubækur sem eru stofnaðar fyrir uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="99375-261">Eins og er sýnir forritið aðeins þessar upplýsingar fyrir bókuð uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="99375-262">Aðrar endurbætur</span><span class="sxs-lookup"><span data-stu-id="99375-262">Other improvements</span></span>

<span data-ttu-id="99375-263">Aðrar endurbætur sem notendur geta séð hafa verið gerðar á eiginleikanum fyrir bókun uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="99375-264">Hér eru nokkur dæmi:</span><span class="sxs-lookup"><span data-stu-id="99375-264">Here are some examples:</span></span>

- <span data-ttu-id="99375-265">Uppsöfnunin tekur ekki tillit til eininga starfsmanna, afgreiðslustöðvar og vaktar.</span><span class="sxs-lookup"><span data-stu-id="99375-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="99375-266">Vegna þess að það eru færri uppsafnaðar færibreytur þarf að vinna úr færri sölupöntunarlínum.</span><span class="sxs-lookup"><span data-stu-id="99375-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="99375-267">Dregið er úr sjálfheldutilvikum á töflum færslu með því að kynna aukalega viðbótartöflu og með því að gera innsetningaraðgerðir í stað uppfærsluaðgerða á töflum færslu.</span><span class="sxs-lookup"><span data-stu-id="99375-267">The occurrence of deadlock on transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the transaction tables.</span></span>
- <span data-ttu-id="99375-268">Fjöldi runuverka í gangi hefur verið settur í færibreytur og takmarkaður.</span><span class="sxs-lookup"><span data-stu-id="99375-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="99375-269">Þess vegna má fínstilla þessa tölu sérstaklega fyrir umhverfi viðskiptavinarins.</span><span class="sxs-lookup"><span data-stu-id="99375-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="99375-270">Í eldri eiginleika fyrir bókun uppgjörs var stofnaður ótakmarkaður fjöldi runuverka á sama tíma.</span><span class="sxs-lookup"><span data-stu-id="99375-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="99375-271">Niðurstöðurnar voru óviðráðanlegt álag, kostnaður og flöskuhálsar á runuþjóninum.</span><span class="sxs-lookup"><span data-stu-id="99375-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="99375-272">Uppgjör eru sett í biðröð fyrir úrvinnslu með skilvirkni að leiðarljósi þannig að uppgjör sem hafa flestar færslur fá forgang.</span><span class="sxs-lookup"><span data-stu-id="99375-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="99375-273">Runuvinnslur eins og **Reikna út uppgjör í runu** og **Bóka uppgjör í runu** eru eingöngu keyrðar í runustillingu.</span><span class="sxs-lookup"><span data-stu-id="99375-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="99375-274">Í eldri eiginleikanum fyrir bókun uppgjörs gátu notendur valið að keyra þessar runuvinnslur í gagnvirkri stillingu sem er einþráða aðgerð ólíkt runuvinnslum sem eru margþráða.</span><span class="sxs-lookup"><span data-stu-id="99375-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="99375-275">Í eldri eiginleikanum fyrir bókun uppgjörs setti sérhver bilun á runuverki alla runuvinnsluna í villustöðu.</span><span class="sxs-lookup"><span data-stu-id="99375-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="99375-276">Í endurbætta eiginleikanum leiða bilanir á runuverki ekki til þess að runuvinnsla fari í villustöðu ef önnur runuverk klárast.</span><span class="sxs-lookup"><span data-stu-id="99375-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="99375-277">Þú ættir að meta bókunarstöðuna fyrir runuframkvæmd með því að nota síðuna **Yfirlit** þar sem þú getur séð allar þær yfirlýsingar sem ekki voru bókaðar vegna villna.</span><span class="sxs-lookup"><span data-stu-id="99375-277">You should assess the posting status for a batch execution run by using the **Statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="99375-278">Í eldri eiginleikanum fyrir bókun uppgjörs leiðir fyrsta tilvik á bilun á uppgjöri til þess að öll runan mistakist.</span><span class="sxs-lookup"><span data-stu-id="99375-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="99375-279">Ekki er unnið úr uppgjörum sem eftir eru.</span><span class="sxs-lookup"><span data-stu-id="99375-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="99375-280">Í endurbætta eiginleikanum heldur runuvinnslan áfram vinna úr öllum uppgjörum, jafnvel þó að sum uppgjörin mistakist.</span><span class="sxs-lookup"><span data-stu-id="99375-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="99375-281">Einn kostur er að notendur fá innsýn í nákvæman fjölda uppgjara sem hafa villur.</span><span class="sxs-lookup"><span data-stu-id="99375-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="99375-282">Þess vegna þurfa notendur ekki að vera fastir í endurtekinni lykkju þar sem villur eru lagaðar og bókun uppgjörsferlis er keyrt þar til öll uppgjör hafa verið bókuð.</span><span class="sxs-lookup"><span data-stu-id="99375-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="99375-283">Almennar leiðbeiningar um bókunarferli uppgjörs</span><span class="sxs-lookup"><span data-stu-id="99375-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="99375-284">Við mælum með því að þú keyrir bókunarferli uppgjörs í runu vegna þess að runukeyrslur nýta sér styrkleika runurammans hvað varðar margþræðingu.</span><span class="sxs-lookup"><span data-stu-id="99375-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="99375-285">Margþræðing er nauðsynleg tili þess að takast á við gríðarmikið magn færslna sem venjulega koma fyrir í bókunum uppgjörs.</span><span class="sxs-lookup"><span data-stu-id="99375-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="99375-286">Við mælum með því að þú kveikir á neikvæðum efnislegum birgðum í vörulíkanaflokknum, þannig að þú fáir hnökralausa upplifun.</span><span class="sxs-lookup"><span data-stu-id="99375-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="99375-287">Í sumum tilfellum gæti ekki verið hægt að bóka neikvæð uppgjör nema það séu neikvæðar efnislegar birgðir.</span><span class="sxs-lookup"><span data-stu-id="99375-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="99375-288">Til dæmis, ef aðeins er til ein eining af vöru í birgðum og það hefur átt sér stað sölufærsla og skilafærsla fyrir vöruna, þá ætti að vera hægt að bóka færsluna jafnvel þótt ekki sé kveikt á neikvæðum birgðum.</span><span class="sxs-lookup"><span data-stu-id="99375-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="99375-289">Hins vegar, vegna þess að bókunarferli uppgjörs dregur bæði sölufærslu og skilafærslu inn í staka viðskiptamannapöntun, er engin trygging fyrir því að sölulínan verði bókuð fyrst og skilalínan í kjölfarið.</span><span class="sxs-lookup"><span data-stu-id="99375-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="99375-290">Þess vegna geta villur komið upp.</span><span class="sxs-lookup"><span data-stu-id="99375-290">Therefore, errors can occur.</span></span> <span data-ttu-id="99375-291">Ef kveikt er á neikvæðum birgðum í þessari atburðarás verður bókun færslunnar ekki fyrir neikvæðum áhrifum og kerfið mun endurspegla birgðirnar á réttan hátt.</span><span class="sxs-lookup"><span data-stu-id="99375-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="99375-292">Við mælum með að þú notir uppsöfnun á meðan þú reiknar út og bókar uppgjör.</span><span class="sxs-lookup"><span data-stu-id="99375-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="99375-293">Þess vegna er mælt með eftirfarandi stillingum fyrir sumar af uppsöfnuðu færibreytunum:</span><span class="sxs-lookup"><span data-stu-id="99375-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="99375-294">Opnið **Retail og Commerce** \> **Uppsetning höfuðstöðva** \> **Færibreytur** \> **Færibreytur Commerce**.</span><span class="sxs-lookup"><span data-stu-id="99375-294">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="99375-295">Síðan á flipanum **Bókun**, á flýtiflipanum **Birgðauppfærsla**, í reitnum **Upplýsingastig** skal velja **Samantekt**.</span><span class="sxs-lookup"><span data-stu-id="99375-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="99375-296">Opnið **Retail og Commerce** \> **Uppsetning höfuðstöðva** \> **Færibreytur** \> **Færibreytur Commerce**.</span><span class="sxs-lookup"><span data-stu-id="99375-296">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="99375-297">Síðan á flipanum **Bókun**, á flýtiflipanum **Uppsöfnun** skal stilla valkostinn **Fylgiskjalafærslur** á **Já**.</span><span class="sxs-lookup"><span data-stu-id="99375-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>
